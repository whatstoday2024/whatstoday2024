import{_,s as g,B as n,m as u,j as b,c as f,b as c,a as s,t as d,F as y,k as l,r as m,o as v,p as x,e as I}from"./index-ChvJ4NIa.js";import{p as A}from"./index-Dghu899D.js";const w={data(){return{isLoading:!1,total:"",members:""}},components:{Plus:A},computed:{...g(l,["checkIsAdmin"])},methods:{async getItemsQty(){const e=await n.get("https://whatstoday2024-8nsu.onrender.com/dishes");this.total=e.data.message.length},async getMembers(){const e=await n.get("https://whatstoday2024-8nsu.onrender.com/users");this.members=e.data.message.length-1},goToAddPage(){this.$router.push("/admin/add-item")},goToAllItems(){this.$router.push({name:"AdminItems"})},...u(l,["checkIsAdmin","getUser"])},async mounted(){document.title="後台管理",this.isLoading=!0,await this.getUser(),this.checkIsAdmin()||(b.error("非管理者無法執行"),this.$router.push("/")),await this.getItemsQty(),await this.getMembers(),this.isLoading=!1}},a=e=>(x("data-v-b450cfc6"),e=e(),I(),e),k={class:"flex-fill d-flex align-items-center"},P={class:"container py-5"},S=a(()=>s("h2",{class:"mb-4"},"後台管理系統",-1)),T={class:"row g-4"},B={class:"border border-primary rounded-4 p-5 text-center"},L=a(()=>s("h5",{class:"fs-4"},"當前菜色總數",-1)),V={class:"mb-0",style:{"font-size":"8rem","line-height":"0.8"}},C={class:"col-lg-6"},z={class:"border border-primary bg-primary-light rounded-4 p-5 h-100 text-center"},F=a(()=>s("h5",{class:"mb-4 fs-4"},"會員總數",-1)),M={class:"mb-0",style:{"font-size":"8rem","line-height":"0.8"}},N={class:"border border-primary rounded-4 p-5 h-100 text-center"},Q=a(()=>s("h5",{class:"mb-4 fs-4"},"新增菜色",-1));function U(e,t,$,j,i,o){const h=m("loadingVue"),p=m("Plus");return v(),f(y,null,[c(h,{active:i.isLoading},null,8,["active"]),s("div",k,[s("div",P,[S,s("div",T,[s("div",{class:"col-12 box",onClick:t[0]||(t[0]=(...r)=>o.goToAllItems&&o.goToAllItems(...r))},[s("div",B,[L,s("p",V,d(i.total),1)])]),s("div",C,[s("div",z,[F,s("p",M,d(i.members),1)])]),s("div",{onClick:t[1]||(t[1]=(...r)=>o.goToAddPage&&o.goToAddPage(...r)),class:"col-lg-6 box"},[s("div",N,[Q,c(p,{style:{width:"100px",height:"100px",cursor:"pointer"}})])])])])])],64)}const q=_(w,[["render",U],["__scopeId","data-v-b450cfc6"]]);export{q as default};
