import{_ as k,o as h,c as m,F as y,g as T,a as e,t as f,h as _,l as b,q as P,v as w,p as C,e as S,d as D,s as B,j as g,m as M,b as v,u as N,x as j,i as u,k as x,r as L}from"./index-DfH_gEl8.js";import{B as V}from"./BentoComponent-Du7qkkd6.js";import{M as U}from"./modal-Cnuy5unH.js";const O={props:["dishesList","mode","modalName","updateSelected","updatePreferenceLevel"],data(){return{dishInfo:{}}},methods:{},mounted(){}},p=t=>(C("data-v-ab0c7772"),t=t(),S(),t),A={key:0,class:"cards row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-4"},F={class:"card h-100"},J=["src","alt"],z={class:"card-body dish-info mx-auto px-0 py-3 w-80 d-flex flex-column justify-content-between"},G=["onClick"],W=["data-bs-target"],q={class:"card-title text-center"},E={class:"card-eng-title mb-3 d-block text-center"},R={class:"input-group mx-auto"},H=["onUpdate:modelValue","onChange","disabled"],K=["onUpdate:modelValue","onChange","disabled"],Q=D('<option value="1" selected data-v-ab0c7772>1</option><option value="2" data-v-ab0c7772>2</option><option value="3" data-v-ab0c7772>3</option><option value="4" data-v-ab0c7772>4</option><option value="5" data-v-ab0c7772>5</option>',5),X=[Q],Y={key:1,class:"mx-2"},Z=p(()=>e("h5",null,"沒有找到對應的菜色",-1)),$=[Z],ee=["id"],te={class:"modal-dialog modal-lg modal-dialog-centered"},se={class:"modal-content dish"},ie=p(()=>e("div",{class:"modal-header px-4"},[e("h3",{class:"modal-title",id:"dishModalLabel"},"菜色介紹"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),oe={class:"modal-body"},le={class:"row row-cols-1 row-cols-lg-2"},ae={class:"col order-last order-lg-1 row row-cols-1 gap-3 mt-0 py-3 px-0 mx-auto justify-content-center"},re={class:"col row align-items-start"},ne=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"中文菜名：")],-1)),de={class:"col"},ce={class:"m-0"},he={class:"col row align-items-start"},me=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"英文菜名：")],-1)),pe={class:"col"},ue={class:"m-0"},fe={class:"col row align-items-center"},_e=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"喜好程度：")],-1)),ve={class:"col"},ge=["disabled"],be=D('<option value="1" data-v-ab0c7772>1</option><option value="2" data-v-ab0c7772>2</option><option value="3" data-v-ab0c7772>3</option><option value="4" data-v-ab0c7772>4</option><option value="5" data-v-ab0c7772>5</option>',5),Le=[be],ye={class:"col row align-items-start"},we=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"健康推薦指數：")],-1)),De={class:"col"},xe={class:"m-0"},ke={class:"col row align-items-start"},Ce=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"營養比例：")],-1)),Se={class:"col"},Ie={class:"row row-cols-1 justify-content-between"},Te={class:"col d-flex"},Pe=p(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"澱粉")],-1)),Be={class:"w-50"},Me={class:"m-0 text-end"},Ne={class:"col d-flex"},je=p(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"蛋白質")],-1)),Ve={class:"w-50"},Ue={class:"m-0 text-end"},Oe={class:"col d-flex"},Ae=p(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"蔬菜")],-1)),Fe={class:"w-50"},Je={class:"m-0 text-end"},ze={class:"col col-lg-5 col-8 p-3 order-first order-lg-2 mx-auto align-self-center"},Ge=["src"];function We(t,s,o,a,i,l){return h(),m(y,null,[o.dishesList.length!==0?(h(),m("div",A,[(h(!0),m(y,null,T(o.dishesList,r=>(h(),m("div",{class:"col",key:r.title},[e("div",F,[e("img",{src:r.imgUrl,height:"120rem",class:"card-img-top object-fit-cover",alt:r.title+"的圖片"},null,8,J),e("div",z,[e("div",{class:"dish-info-btn btn p-0 d-flex",onClick:c=>i.dishInfo=r},[e("i",{class:"fa-solid fa-circle-info text-secondary fs-5 lh-sm",title:"菜色介紹","data-bs-toggle":"modal","data-bs-target":"#"+o.modalName},null,8,W)],8,G),e("h5",q,f(r.title),1),e("small",E,f(r.engTitle),1),e("div",R,[e("div",{class:_(["input-group-text",{"bg-primary-mid":r.isLoading===!0}])},[b(e("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input","onUpdate:modelValue":c=>r.isChecked=c,onChange:c=>o.updateSelected(r),disabled:o.mode==="default"||r.isLoading===!0},null,40,H),[[P,r.isChecked]])],2),b(e("select",{class:_(["form-select",{"bg-primary-light":r.isLoading===!0}]),"aria-label":"Default select example","onUpdate:modelValue":c=>r.preferenceLevel=c,onChange:c=>o.updatePreferenceLevel(r),disabled:!r.isChecked||o.mode==="default"||r.isLoading===!0},X,42,K),[[w,r.preferenceLevel]])])])])]))),128))])):(h(),m("div",Y,$)),e("div",{class:"modal fade",id:o.modalName,tabindex:"-1","aria-labelledby":"dishModalLabel","aria-hidden":"true"},[e("div",te,[e("div",se,[ie,e("div",oe,[e("div",le,[e("div",ae,[e("div",re,[ne,e("div",de,[e("p",ce,f(i.dishInfo.title),1)])]),e("div",he,[me,e("div",pe,[e("p",ue,f(i.dishInfo.engTitle),1)])]),e("div",fe,[_e,e("div",ve,[b(e("select",{class:"form-select w-75","aria-label":"Default select example",disabled:!i.dishInfo.isChecked,"onUpdate:modelValue":s[0]||(s[0]=r=>i.dishInfo.preferenceLevel=r)},Le,8,ge),[[w,i.dishInfo.preferenceLevel]])])]),e("div",ye,[we,e("div",De,[e("p",xe,f(i.dishInfo.healthLevel),1)])]),e("div",ke,[Ce,e("div",Se,[e("div",Ie,[e("div",Te,[Pe,e("div",Be,[e("p",Me,f(i.dishInfo.starchPortion/4)+" 碗",1)])]),e("div",Ne,[je,e("div",Ve,[e("p",Ue,f(i.dishInfo.proteinPortion)+" 份",1)])]),e("div",Oe,[Ae,e("div",Fe,[e("p",Je,f(i.dishInfo.vegetablePortion)+" 份",1)])])])])])]),e("div",ze,[e("img",{class:"object-fit-cover",src:i.dishInfo.imgUrl,alt:""},null,8,Ge)])])])])])],8,ee)],64)}const qe=k(O,[["render",We],["__scopeId","data-v-ab0c7772"]]);console.clear();document.title="來點菜單";const Ee={components:{DishesComponent:qe,BentoComponent:V},data(){return{isLoading:!1,introIndex:1,mode:"default",filter:"全部",sortBy:"default",search:"",searchInput:"",searchedList:[],allDishesList:[],stapleList:[],mainDishesList:[],sideDishesList:[],selectedList:[],bentoTemp:{stapleCourse:{},mainCourse:{},sideDishes:[],date:"",mealType:"",starchTotalPortion:0,proteinTotalPortion:0,vegetableTotalPortion:0},bentoModal:null,successDelay:1500,errorDelay:2e3}},computed:{...B(x,["memberData","hasCheckLogin"])},watch:{sortBy(){this.getSortedDishes()},filter(){this.getSearchedDishes()}},methods:{drawOneDish(t){const s=this.mode==="default"?t.reduce((i,l)=>i+l.healthLevel,0):t.reduce((i,l)=>i+l.healthLevel+ +l.preferenceLevel,0);let o=Math.random()*s,a=0;for(let i=0;i<t.length;i++)if(o-=this.mode==="default"?t[i].healthLevel:t[i].healthLevel+ +t[i].preferenceLevel,o<=0){a=i;break}return this.bentoTemp.starchTotalPortion+=t[a].starchPortion,this.bentoTemp.proteinTotalPortion+=t[a].proteinPortion,this.bentoTemp.vegetableTotalPortion+=t[a].vegetablePortion,t[a]},drawThreeDishes(t){const s=[],o=[...t];for(;s.length<3;){const a=this.mode==="default"?o.reduce((r,c)=>r+c.healthLevel,0):o.reduce((r,c)=>r+c.healthLevel+ +c.preferenceLevel,0);let i=Math.random()*a,l=0;for(let r=0;r<o.length;r++)if(i-=this.mode==="default"?o[r].healthLevel:o[r].healthLevel+ +o[r].preferenceLevel,i<=0){l=r;break}this.bentoTemp.starchTotalPortion+=t[l].starchPortion,this.bentoTemp.proteinTotalPortion+=t[l].proteinPortion,this.bentoTemp.vegetableTotalPortion+=t[l].vegetablePortion,s.push(o[l]),o.splice(l,1)}return s},bentoPretest(){var t;((t=this.bentoTemp.sideDishes)==null?void 0:t.length)===0?this.generateBento():this.bentoModal.show()},async generateBento(){console.clear(),this.isLoading=!0,await this.getAllDishesList();let t=!0;const s=this.mode==="default"?this.stapleList:this.stapleList.filter(i=>i.isChecked===!0),o=this.mode==="default"?this.mainDishesList:this.mainDishesList.filter(i=>i.isChecked===!0),a=this.mode==="default"?this.sideDishesList:this.sideDishesList.filter(i=>i.isChecked===!0);if(s.length<1&&(t=!1,g.error("自選模式必須選取至少一種主食。",{autoClose:this.errorDelay})),a.length<3&&(t=!1,g.error("自選模式必須選取至少三種配菜。",{autoClose:this.errorDelay})),o.length<1&&(t=!1,g.error("自選模式必須選取至少一種主菜。",{autoClose:this.errorDelay})),!t){this.isLoading=!1;return}this.bentoTemp={starchTotalPortion:0,proteinTotalPortion:0,vegetableTotalPortion:0},this.bentoTemp.stapleCourse=this.drawOneDish(s),this.bentoTemp.mainCourse=this.drawOneDish(o),this.bentoTemp.sideDishes=this.drawThreeDishes(a),g.success("新便當已生成。",{autoClose:this.successDelay}),this.bentoModal.show(),this.isLoading=!1},moveToGeneratorBentoBtn(){document.querySelector("#bentoGenerator").scrollIntoView({behavior:"smooth"})},getMode(){if(this.memberData.id)this.mode=this.memberData.mode!==void 0?this.memberData.mode:"default";else{const t=localStorage.getItem("mode");this.mode=t||"default"}},async setMode(t){if(this.isLoading=!0,this.mode=t,this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/users/${this.memberData.id}`,{mode:t})}catch{this.errorProcess()}else localStorage.setItem("mode",this.mode);this.isLoading=!1},async getAllDishesList(){try{await this.getSelectedDishes();const t=await this.axios.get("https://whatstoday2024-8nsu.onrender.com/dishes");this.allDishesList=t.data.message.map(s=>{const o=this.selectedList.find(a=>a.dishId===s.id);return o?{...s,isChecked:o.isChecked,preferenceLevel:+o.preferenceLevel}:{...s,isChecked:!1,preferenceLevel:1}}),this.stapleList=this.allDishesList.filter(s=>s.category==="主食類"),this.mainDishesList=this.allDishesList.filter(s=>s.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(s=>s.category==="配菜類")}catch{this.errorProcess()}},searchPretest(){this.search!==this.searchInput&&this.getSearchedDishes()},async getSearchedDishes(){this.isLoading=!0,this.searchedList=[],this.search=this.searchInput;try{const t="https://whatstoday2024-8nsu.onrender.com/dishes?title_like="+this.search+(this.filter==="全部"?"":"&category="+this.filter)+(this.sortBy!=="healthLevel"?"":"&_sort="+this.sortBy+"&_order=desc"),s=await this.axios.get(t);this.searchedList=[...this.searchedList,...s.data.message];const o="https://whatstoday2024-8nsu.onrender.com/dishes?engTitle_like="+this.search+(this.filter==="全部"?"":"&category="+this.filter)+(this.sortBy!=="healthLevel"?"":"&_sort="+this.sortBy+"&_order=desc"),a=await this.axios.get(o);this.searchedList=[...this.searchedList,...a.data.message],await this.getSelectedDishes(),this.searchedList=this.searchedList.map(i=>{const l=this.selectedList.find(r=>r.dishId===i.id);return l?{...i,isChecked:l.isChecked,preferenceLevel:+l.preferenceLevel}:{...i,isChecked:!1,preferenceLevel:1}}),await this.getSortedDishes()}catch{this.errorProcess()}this.isLoading=!1},async getSortedDishes(){if(this.isLoading=!0,this.sortBy==="default")this.searchedList.length&&(this.searchedList=this.searchedList.sort((t,s)=>t.id-s.id));else if(this.sortBy==="preferenceLevel")this.allDishesList=[...this.allDishesList.filter(t=>t.isChecked===!0).sort((t,s)=>s.preferenceLevel-t.preferenceLevel),...this.allDishesList.filter(t=>t.isChecked===!1).sort((t,s)=>s.preferenceLevel-t.preferenceLevel)],this.stapleList=this.allDishesList.filter(t=>t.category==="主食類"),this.mainDishesList=this.allDishesList.filter(t=>t.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(t=>t.category==="配菜類"),this.searchedList.length&&(this.searchedList=[...this.searchedList.filter(t=>t.isChecked===!0).sort((t,s)=>s.preferenceLevel-t.preferenceLevel),...this.searchedList.filter(t=>t.isChecked===!1).sort((t,s)=>s.preferenceLevel-t.preferenceLevel)]),this.selectedList.length&&(this.selectedList=[...this.selectedList.filter(t=>t.isChecked===!0).sort((t,s)=>s.preferenceLevel-t.preferenceLevel),...this.selectedList.filter(t=>t.isChecked===!1).sort((t,s)=>s.preferenceLevel-t.preferenceLevel)],this.memberData.id||localStorage.setItem("selectedList",JSON.stringify(this.selectedList)));else if(this.sortBy==="healthLevel"){try{const t=await this.axios.get(`https://whatstoday2024-8nsu.onrender.com/dishes?_sort=${this.sortBy}&_order=desc`);this.allDishesList=t.data.message.map(s=>{const o=this.selectedList.find(a=>a.dishId===s.id);return o?{...s,isChecked:o.isChecked,preferenceLevel:+o.preferenceLevel}:{...s,isChecked:!1,preferenceLevel:1}})}catch{this.errorProcess()}this.stapleList=this.allDishesList.filter(t=>t.category==="主食類"),this.mainDishesList=this.allDishesList.filter(t=>t.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(t=>t.category==="配菜類"),this.searchedList.length&&(this.searchedList=this.searchedList.sort((t,s)=>s.healthLevel-t.healthLevel))}this.isLoading=!1},async getSelectedDishes(){if(this.memberData.id)try{const t=await this.axios.get(`https://whatstoday2024-8nsu.onrender.com/600/users/${this.memberData.id}/selecteds?_expand=dish`);this.selectedList=t.data.message}catch{this.errorProcess()}else{const t=JSON.parse(localStorage.getItem("selectedList"));this.selectedList=t||[]}},async addToSelected(t){await this.getSelectedDishes();const s=this.selectedList.find(a=>a.dishId===t.id),o=this.selectedList.findIndex(a=>a.dishId===t.id);if(s)if(this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${s.id}`,{isChecked:!0})}catch{this.errorProcess()}else this.selectedList[o].isChecked=!0,localStorage.setItem("selectedList",JSON.stringify(this.selectedList));else{const a={dishId:t.id,isChecked:t.isChecked,preferenceLevel:+t.preferenceLevel};if(this.memberData.id)try{await this.axios.post(`https://whatstoday2024-8nsu.onrender.com/600/users/${this.memberData.id}/selecteds/`,a)}catch{this.errorProcess()}else this.selectedList.push(a),localStorage.setItem("selectedList",JSON.stringify(this.selectedList))}},async updatePreferenceLevel(t){t.isLoading=!0,await this.getSelectedDishes();const s=this.selectedList.find(a=>a.dishId===t.id),o=this.selectedList.findIndex(a=>a.dishId===t.id);if(this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${s.id}`,{preferenceLevel:+t.preferenceLevel})}catch{this.errorProcess()}else this.selectedList[o].preferenceLevel=+t.preferenceLevel,localStorage.setItem("selectedList",JSON.stringify(this.selectedList));await this.getAllDishesList(),t.isLoading=!1},async uncheckFromSelected(t){await this.getSelectedDishes();const s=this.selectedList.find(a=>a.dishId===t.id),o=this.selectedList.findIndex(a=>a.dishId===t.id);if(s)if(+t.preferenceLevel==1)if(this.memberData.id)try{await this.axios.delete(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${s.id}`)}catch{this.errorProcess()}else this.selectedList.splice(o,1),localStorage.setItem("selectedList",JSON.stringify(this.selectedList));else if(this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${s.id}`,{isChecked:!1})}catch{this.errorProcess()}else this.selectedList[o].isChecked=!1,localStorage.setItem("selectedList",JSON.stringify(this.selectedList));else this.errorProcess()},async updateSelected(t){t.isLoading=!0,t.isChecked===!0?await this.addToSelected(t):await this.uncheckFromSelected(t),await this.getAllDishesList(),t.isLoading=!1},errorProcess(){g.error("發生了某些錯誤，將重新整理頁面。",{autoClose:this.errorDelay}),setTimeout(()=>{location.reload()},this.errorDelay)},async init(){this.isLoading=!0,await this.getUser(),this.getMode(),await this.getAllDishesList(),this.bentoModal=new U(document.querySelector("#bentoModal")),this.isLoading=!1},...M(x,["getUser"])},mounted(){this.init()}},d=t=>(C("data-v-ecd04262"),t=t(),S(),t),Re={class:"container"},He=d(()=>e("div",{class:"title"},[e("h2",{class:"text-center my-3"},"帶您探索菜色的無限可能")],-1)),Ke={class:"mode-btns text-center mb-3"},Qe={class:"btn-group",role:"group","aria-label":"Basic outlined example"},Xe={class:"filter-sort-search-container mb-2 d-flex justify-content-between"},Ye={class:"category-filter",style:{width:"8rem"}},Ze=D('<option selected disabled data-v-ecd04262>篩選</option><option value="全部" data-v-ecd04262>全部</option><option value="主食類" data-v-ecd04262>主食類</option><option value="配菜類" data-v-ecd04262>配菜類</option><option value="主菜類" data-v-ecd04262>主菜類</option>',5),$e=[Ze],et={class:"sort-search-container d-flex justify-content-between gap-2"},tt={class:"sort-dropdown dropdown"},st=d(()=>e("button",{class:"btn btn-outline-primary",type:"button",id:"SortByWhatFactorDropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("strong",null,"三")],-1)),it={class:"dropdown-menu","aria-labelledby":"SortByWhatFactorDropdownMenuButton"},ot=d(()=>e("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),lt=[ot],at={class:"wrap w-80 mx-auto pt-5 pb-4"},rt={key:0,class:"staple mb-4"},nt=d(()=>e("h3",{class:"d-inline mx-2"},"主食類",-1)),dt={key:0,class:"text-danger"},ct=d(()=>e("hr",null,null,-1)),ht={key:1,class:"dishes mb-4"},mt=d(()=>e("h3",{class:"d-inline mx-2"},"配菜類",-1)),pt={key:0,class:"text-danger"},ut=d(()=>e("hr",null,null,-1)),ft={key:2,class:"entree mb-4"},_t=d(()=>e("h3",{class:"d-inline mx-2"},"主菜類",-1)),vt={key:0,class:"text-danger"},gt=d(()=>e("hr",null,null,-1)),bt={key:3,class:"entree mb-4"},Lt=d(()=>e("h3",{class:"mx-2"},"搜尋結果",-1)),yt=d(()=>e("hr",null,null,-1)),wt={id:"bentoGenerator",class:"bento-generator text-center"},Dt={class:"aside"},xt={class:"aside-head"},kt=d(()=>e("i",{class:"fa-solid fa-angles-down"},null,-1)),Ct=[kt],St={class:"modal fade",id:"siteIntroModal",tabindex:"-1","aria-labelledby":"siteIntroModalLabel","aria-hidden":"true"},It={class:"modal-dialog modal-lg modal-dialog-centered"},Tt={class:"modal-content vh-75"},Pt={class:"modal-header justify-content-between"},Bt=d(()=>e("h4",{class:"modal-title",id:"siteIntroModalLabel"},"網站介紹",-1)),Mt=d(()=>e("button",{type:"button",class:"btn text-primary p-0","data-bs-dismiss":"modal","aria-label":"Close"},"略過",-1)),Nt={class:"modal-body d-flex justify-content-between align-items-center p-3"},jt={key:0,type:"button",class:"btn prev-btn"},Vt=d(()=>e("i",{class:"bi bi-chevron-left"},null,-1)),Ut=[Vt],Ot=d(()=>e("div",{class:"row row-cols-1 row-cols-lg-2 align-items-center h-100 w-100"},[e("div",{class:"col col-lg-5 col-8 p-3 mx-auto align-self-center"},[e("div",null,[e("p",{class:"text-center"},"我是gif")])]),e("div",{class:"col gap-3 p-3 mx-auto mt-0"},[e("p",null,"★ 你可以 篩選出 主食、配菜與主菜"),e("p",null,"★ 你可以 依 喜好程度 或 健康推薦指數，將菜色卡片進行排序"),e("p",null,"★ 你可以 以 關鍵字 搜尋特定菜色卡片")])],-1)),At={key:1,type:"button",class:"btn next-btn"},Ft=d(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),Jt=[Ft],zt=d(()=>e("div",{class:"modal-footer"},[e("div",{class:"no-show-again d-flex gap-2 mx-auto"},[e("input",{type:"checkbox",id:"no-show-again",name:"no-show-again",class:"form-check-input no-show-again-checkout"}),e("label",{for:"no-show-again"},"不再顯示")])],-1));function Gt(t,s,o,a,i,l){const r=L("loadingVue"),c=L("DishesComponent"),I=L("BentoComponent");return h(),m(y,null,[v(r,{active:i.isLoading},null,8,["active"]),e("div",Re,[He,e("div",Ke,[e("div",Qe,[e("button",{type:"button",class:_(["default-mode btn btn-outline-primary px-4 py-2",{active:i.mode==="default"}]),onClick:s[0]||(s[0]=n=>l.setMode("default"))},"預設模式",2),e("button",{type:"button",class:_(["customization-mode btn btn-outline-primary px-4 py-2",{active:i.mode==="customization"}]),onClick:s[1]||(s[1]=n=>l.setMode("customization"))},"自選模式",2)])]),e("div",Xe,[e("div",Ye,[b(e("select",{class:"form-select outline-primary","aria-label":"Default select example","onUpdate:modelValue":s[2]||(s[2]=n=>i.filter=n)},$e,512),[[w,i.filter]])]),e("div",et,[e("div",tt,[st,e("ul",it,[e("li",null,[e("a",{class:_(["dropdown-item",{active:i.sortBy==="default"}]),href:"javascript:;",onClick:s[3]||(s[3]=n=>i.sortBy="default")},"依 預設 排序",2)]),e("li",null,[e("a",{class:_(["dropdown-item",{active:i.sortBy==="preferenceLevel"}]),href:" javascript:;",onClick:s[4]||(s[4]=n=>i.sortBy="preferenceLevel")},"依 喜好程度 排序",2)]),e("li",null,[e("a",{class:_(["dropdown-item",{active:i.sortBy==="healthLevel"}]),href:"javascript:;",onClick:s[5]||(s[5]=n=>i.sortBy="healthLevel")},"依 健康分數 排序",2)])])]),e("form",{class:"search-input input-group",onSubmit:s[9]||(s[9]=N((...n)=>l.getSearchedDishes&&l.getSearchedDishes(...n),["prevent"]))},[b(e("input",{type:"text",class:"form-control",placeholder:"搜尋菜色","aria-label":"Search","aria-describedby":"Input Box For Searching Dishes",size:"10","onUpdate:modelValue":s[6]||(s[6]=n=>i.searchInput=n),onBlur:s[7]||(s[7]=(...n)=>l.searchPretest&&l.searchPretest(...n))},null,544),[[j,i.searchInput,void 0,{trim:!0}]]),e("button",{class:"btn btn-outline-primary",type:"button",id:"button-addon2",onClick:s[8]||(s[8]=(...n)=>l.getSearchedDishes&&l.getSearchedDishes(...n))},lt)],32)])]),e("div",{class:_(["menu border border-primary rounded mb-3 position-relative",{mask:i.mode==="default"}])},[e("div",at,[(i.filter==="全部"||i.filter==="主食類")&&i.search===""?(h(),m("div",rt,[nt,i.stapleList.filter(n=>n.isChecked===!0).length<1?(h(),m("small",dt,"*請至少選擇一樣")):u("",!0),ct,v(c,{"dishes-list":i.stapleList,mode:i.mode,"modal-name":"stapleModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):u("",!0),(i.filter==="全部"||i.filter==="配菜類")&&i.search===""?(h(),m("div",ht,[mt,i.sideDishesList.filter(n=>n.isChecked===!0).length<3?(h(),m("small",pt,"*請至少選擇三樣")):u("",!0),ut,v(c,{"dishes-list":i.sideDishesList,mode:i.mode,"modal-name":"sideDishesModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):u("",!0),(i.filter==="全部"||i.filter==="主菜類")&&i.search===""?(h(),m("div",ft,[_t,i.mainDishesList.filter(n=>n.isChecked===!0).length<1?(h(),m("small",vt,"*請至少選擇一樣")):u("",!0),gt,v(c,{"dishes-list":i.mainDishesList,mode:i.mode,"modal-name":"mainDishesModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):u("",!0),i.search!==""?(h(),m("div",bt,[Lt,yt,v(c,{"dishes-list":i.searchedList,mode:i.mode,"modal-name":"searchedDishesModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):u("",!0)])],2),e("div",wt,[e("button",{type:"button",class:"btn btn-outline-primary bento-generator-btn mb-4 px-4 py-3",onClick:s[10]||(s[10]=(...n)=>l.bentoPretest&&l.bentoPretest(...n))},"生成便當")]),e("aside",Dt,[e("div",xt,[e("a",{href:"javascript:;",class:"aside-link aside-link-generator",onClick:s[11]||(s[11]=(...n)=>l.moveToGeneratorBentoBtn&&l.moveToGeneratorBentoBtn(...n))},Ct)])])]),e("div",St,[e("div",It,[e("div",Tt,[e("div",Pt,[Bt,e("small",null,f(i.introIndex)+" / 7 ",1),Mt]),e("div",Nt,[i.introIndex!==1?(h(),m("button",jt,Ut)):u("",!0),Ot,i.introIndex!==7?(h(),m("button",At,Jt)):u("",!0)]),zt])])]),v(I,{"bento-temp":i.bentoTemp,"generate-bento":l.generateBento,"member-data":t.memberData},null,8,["bento-temp","generate-bento","member-data"])],64)}const Rt=k(Ee,[["render",Gt],["__scopeId","data-v-ecd04262"]]);export{Rt as default};
