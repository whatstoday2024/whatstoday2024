import{_ as I,o as h,c as m,F as w,g as P,a as e,t as u,h as v,l as L,q as U,v as x,p as S,e as T,d as D,s as M,j as b,m as N,b as g,u as j,x as V,i as f,k as C,r as y}from"./index-CovEMED6.js";import{B as O}from"./BentoComponent-CEht04W9.js";const A={props:["dishesList","mode","modalName","updateSelected","updatePreferenceLevel"],data(){return{dishInfo:{}}},methods:{},mounted(){}},p=t=>(S("data-v-1dfd1ba8"),t=t(),T(),t),F={key:0,class:"cards row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-4"},J={class:"card h-100"},z=["src","alt"],G={class:"card-body dish-info mx-auto px-0 py-3 w-80 d-flex flex-column justify-content-between"},W=["onClick"],q=["data-bs-target"],E={class:"card-title text-center"},$={class:"card-eng-title mb-3 d-block text-center"},H={class:"input-group mx-auto"},K=["onUpdate:modelValue","onChange","disabled"],Q=["onUpdate:modelValue","onChange","disabled"],R=D('<option value="1" selected data-v-1dfd1ba8>1</option><option value="2" data-v-1dfd1ba8>2</option><option value="3" data-v-1dfd1ba8>3</option><option value="4" data-v-1dfd1ba8>4</option><option value="5" data-v-1dfd1ba8>5</option>',5),X=[R],Y={key:1,class:"mx-2"},Z=p(()=>e("h5",null,"沒有找到對應的菜色",-1)),ee=[Z],te=["id"],se={class:"modal-dialog modal-lg modal-dialog-centered"},ie={class:"modal-content dish"},le=p(()=>e("div",{class:"modal-header px-4"},[e("h3",{class:"modal-title",id:"dishModalLabel"},"菜色介紹"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),oe={class:"modal-body"},ae={class:"row row-cols-1 row-cols-lg-2"},de={class:"col order-last order-lg-1 row row-cols-1 gap-3 mt-0 py-3 px-0 mx-auto justify-content-center"},ne={class:"col row align-items-start"},re=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"中文菜名：")],-1)),ce={class:"col"},he={class:"m-0"},me={class:"col row align-items-start"},pe=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"英文菜名：")],-1)),fe={class:"col"},ue={class:"m-0"},_e={class:"col row align-items-center"},ve=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"喜好程度：")],-1)),ge={class:"col"},be=["disabled"],Le=D('<option value="1" data-v-1dfd1ba8>1</option><option value="2" data-v-1dfd1ba8>2</option><option value="3" data-v-1dfd1ba8>3</option><option value="4" data-v-1dfd1ba8>4</option><option value="5" data-v-1dfd1ba8>5</option>',5),ye=[Le],we={class:"col row align-items-start"},xe=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"健康推薦指數：")],-1)),De={class:"col"},ke={class:"m-0"},Ce={class:"col row align-items-start"},Ie=p(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"營養比例：")],-1)),Se={class:"col"},Te={class:"row row-cols-1 justify-content-between"},Be={class:"col d-flex"},Pe=p(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"澱粉")],-1)),Ue={class:"w-50"},Me={class:"m-0 text-end"},Ne={class:"col d-flex"},je=p(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"蛋白質")],-1)),Ve={class:"w-50"},Oe={class:"m-0 text-end"},Ae={class:"col d-flex"},Fe=p(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"蔬菜")],-1)),Je={class:"w-50"},ze={class:"m-0 text-end"},Ge={class:"col col-lg-5 col-8 p-3 order-first order-lg-2 mx-auto align-self-center"},We=["src"];function qe(t,s,l,o,i,a){return h(),m(w,null,[l.dishesList.length!==0?(h(),m("div",F,[(h(!0),m(w,null,P(l.dishesList,d=>(h(),m("div",{class:"col",key:d.title},[e("div",J,[e("img",{src:d.imgUrl,height:"120rem",class:"card-img-top object-fit-cover",alt:d.title+"的圖片"},null,8,z),e("div",G,[e("div",{class:"dish-info-btn btn p-0 d-flex",onClick:c=>i.dishInfo=d},[e("i",{class:"fa-solid fa-circle-info text-secondary fs-5 lh-sm",title:"菜色介紹","data-bs-toggle":"modal","data-bs-target":"#"+l.modalName},null,8,q)],8,W),e("h5",E,u(d.title),1),e("small",$,u(d.engTitle),1),e("div",H,[e("div",{class:v(["input-group-text",{"bg-grey9F":l.mode==="default"}])},[L(e("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input","onUpdate:modelValue":c=>d.isChecked=c,onChange:c=>l.updateSelected(d),disabled:l.mode==="default"},null,40,K),[[U,d.isChecked]])],2),L(e("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":c=>d.preferenceLevel=c,onChange:c=>l.updatePreferenceLevel(d),disabled:!d.isChecked||l.mode==="default"},X,40,Q),[[x,d.preferenceLevel]])])])])]))),128))])):(h(),m("div",Y,ee)),e("div",{class:"modal fade",id:l.modalName,tabindex:"-1","aria-labelledby":"dishModalLabel","aria-hidden":"true"},[e("div",se,[e("div",ie,[le,e("div",oe,[e("div",ae,[e("div",de,[e("div",ne,[re,e("div",ce,[e("p",he,u(i.dishInfo.title),1)])]),e("div",me,[pe,e("div",fe,[e("p",ue,u(i.dishInfo.engTitle),1)])]),e("div",_e,[ve,e("div",ge,[L(e("select",{class:"form-select w-75","aria-label":"Default select example",disabled:!i.dishInfo.isChecked,"onUpdate:modelValue":s[0]||(s[0]=d=>i.dishInfo.preferenceLevel=d)},ye,8,be),[[x,i.dishInfo.preferenceLevel]])])]),e("div",we,[xe,e("div",De,[e("p",ke,u(i.dishInfo.healthLevel),1)])]),e("div",Ce,[Ie,e("div",Se,[e("div",Te,[e("div",Be,[Pe,e("div",Ue,[e("p",Me,u(i.dishInfo.starchPortion/4)+" 碗",1)])]),e("div",Ne,[je,e("div",Ve,[e("p",Oe,u(i.dishInfo.proteinPortion)+" 份",1)])]),e("div",Ae,[Fe,e("div",Je,[e("p",ze,u(i.dishInfo.vegetablePortion)+" 份",1)])])])])])]),e("div",Ge,[e("img",{class:"object-fit-cover",src:i.dishInfo.imgUrl,alt:""},null,8,We)])])])])])],8,te)],64)}const Ee=I(A,[["render",qe],["__scopeId","data-v-1dfd1ba8"]]);console.clear();const _=2e3;document.title="來點菜單";const $e={components:{DishesComponent:Ee,BentoComponent:O},data(){return{isLoading:!1,apiUrl:"https://whatstoday2024-8nsu.onrender.com",introIndex:1,mode:"default",filter:"全部",sortBy:"default",search:"",searchInput:"",searchedList:[],allDishesList:[],stapleList:[],mainDishesList:[],sideDishesList:[],selectedList:[],bentoTemp:{stapleCourse:{},mainCourse:{},sideDishes:[],date:"",mealType:"",starchTotalPortion:0,proteinTotalPortion:0,vegetableTotalPortion:0}}},computed:{...M(C,["memberData","hasCheckLogin"])},watch:{sortBy(){this.getSortedDishes()},filter(){this.getSearchedDishes()}},methods:{drawOneDish(t){let s=this.mode==="default"?t.reduce((i,a)=>i+a.healthLevel,0):t.reduce((i,a)=>i+a.healthLevel+ +a.preferenceLevel,0),l=Math.random()*s,o=0;for(let i=0;i<t.length;i++)if(l-=this.mode==="default"?t[i].healthLevel:t[i].healthLevel+ +t[i].preferenceLevel,l<=0){o=i;break}return this.bentoTemp.starchTotalPortion+=t[o].starchPortion,this.bentoTemp.proteinTotalPortion+=t[o].proteinPortion,this.bentoTemp.vegetableTotalPortion+=t[o].vegetablePortion,t[o]},drawThreeDishes(t){let s=[],l=[...t];for(;s.length<3;){let o=this.mode==="default"?l.reduce((d,c)=>d+c.healthLevel,0):l.reduce((d,c)=>d+c.healthLevel+ +c.preferenceLevel,0),i=Math.random()*o,a=0;for(let d=0;d<l.length;d++)if(i-=this.mode==="default"?l[d].healthLevel:l[d].healthLevel+ +l[d].preferenceLevel,i<=0){a=d;break}this.bentoTemp.starchTotalPortion+=t[a].starchPortion,this.bentoTemp.proteinTotalPortion+=t[a].proteinPortion,this.bentoTemp.vegetableTotalPortion+=t[a].vegetablePortion,s.push(l[a]),l.splice(a,1)}return s},async generateBento(){console.clear(),this.isLoading=!0,await this.getAllDishesList(),this.isLoading=!0;let t=!0;const s=this.mode==="default"?this.stapleList:this.stapleList.filter(i=>i.isChecked===!0),l=this.mode==="default"?this.mainDishesList:this.mainDishesList.filter(i=>i.isChecked===!0),o=this.mode==="default"?this.sideDishesList:this.sideDishesList.filter(i=>i.isChecked===!0);if(s.length<1&&(t=!1,b.error("自選模式必須選取至少一種主食。",{autoClose:_})),o.length<3&&(t=!1,b.error("自選模式必須選取至少三種配菜。",{autoClose:_})),l.length<1&&(t=!1,b.error("自選模式必須選取至少一種主菜。",{autoClose:_})),!t){this.isLoading=!1;return}this.bentoTemp={starchTotalPortion:0,proteinTotalPortion:0,vegetableTotalPortion:0},this.bentoTemp.stapleCourse=this.drawOneDish(s),this.bentoTemp.mainCourse=this.drawOneDish(l),this.bentoTemp.sideDishes=this.drawThreeDishes(o),this.isLoading=!1},moveToGeneratorBentoBtn(){document.querySelector("#bentoGenerator").scrollIntoView({behavior:"smooth"})},getMode(){if(this.memberData.id)this.mode=this.memberData.mode!==void 0?this.memberData.mode:"default";else{let t=localStorage.getItem("mode");this.mode=t||"default"}},async setMode(t){this.isLoading=!0,this.mode=t,this.memberData.id?await this.axios.patch(`${this.apiUrl}/600/users/${this.memberData.id}`,{mode:t}):localStorage.setItem("mode",this.mode),this.isLoading=!1},async getAllDishesList(){await this.getSelected(),await this.axios.get(`${this.apiUrl}/dishes`).then(t=>{this.allDishesList=t.data.message,this.allDishesList=this.allDishesList.map(s=>{const l=this.selectedList.find(o=>o.dishId===s.id);return l?{...s,isChecked:l.isChecked,preferenceLevel:+l.preferenceLevel}:{...s,isChecked:!1,preferenceLevel:1}}),this.stapleList=this.allDishesList.filter(s=>s.category==="主食類"),this.mainDishesList=this.allDishesList.filter(s=>s.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(s=>s.category==="配菜類")})},async getSearchedDishes(){this.isLoading=!0,this.searchedList=[],this.search=this.searchInput;let t=this.apiUrl+"/dishes?title_like="+this.search+(this.filter==="全部"?"":"&category="+this.filter)+(this.sortBy!=="healthLevel"?"":"&_sort="+this.sortBy+"&_order=desc");await this.axios.get(t).then(l=>{this.searchedList=[...this.searchedList,...l.data.message]});let s=this.apiUrl+"/dishes?engTitle_like="+this.search+(this.filter==="全部"?"":"&category="+this.filter)+(this.sortBy!=="healthLevel"?"":"&_sort="+this.sortBy+"&_order=desc");await this.axios.get(s).then(l=>{this.searchedList=[...this.searchedList,...l.data.message]}),this.searchedList=this.searchedList.map(l=>{const o=this.selectedList.find(i=>i.dishId===l.id);return o?{...l,isChecked:o.isChecked,preferenceLevel:+o.preferenceLevel}:{...l,isChecked:!1,preferenceLevel:1}}),await this.getSortedDishes(),this.isLoading=!1},async getSortedDishes(){this.isLoading=!0,await this.getAllDishesList(),this.sortBy==="default"?this.searchedList.length&&(this.searchedList=this.searchedList.sort((t,s)=>t.id-s.id)):this.sortBy==="preferenceLevel"?(this.allDishesList=[...this.allDishesList.filter(t=>t.isChecked===!0).sort((t,s)=>s.preferenceLevel-t.preferenceLevel),...this.allDishesList.filter(t=>t.isChecked===!1).sort((t,s)=>s.preferenceLevel-t.preferenceLevel)],this.stapleList=this.allDishesList.filter(t=>t.category==="主食類"),this.mainDishesList=this.allDishesList.filter(t=>t.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(t=>t.category==="配菜類"),this.searchedList.length&&(this.searchedList=[...this.searchedList.filter(t=>t.isChecked===!0).sort((t,s)=>s.preferenceLevel-t.preferenceLevel),...this.searchedList.filter(t=>t.isChecked===!1).sort((t,s)=>s.preferenceLevel-t.preferenceLevel)]),this.selectedList.length&&(this.selectedList=[...this.selectedList.filter(t=>t.isChecked===!0).sort((t,s)=>s.preferenceLevel-t.preferenceLevel),...this.selectedList.filter(t=>t.isChecked===!1).sort((t,s)=>s.preferenceLevel-t.preferenceLevel)],this.memberData.id||localStorage.setItem("selectedList",JSON.stringify(this.selectedList)))):this.sortBy==="healthLevel"&&await this.axios.get(`${this.apiUrl}/dishes?_sort=${this.sortBy}&_order=desc`).then(t=>{this.allDishesList=t.data.message,this.allDishesList=this.allDishesList.map(s=>{const l=this.selectedList.find(o=>o.dishId===s.id);return l?{...s,isChecked:l.isChecked,preferenceLevel:+l.preferenceLevel}:{...s,isChecked:!1,preferenceLevel:1}}),this.stapleList=this.allDishesList.filter(s=>s.category==="主食類"),this.mainDishesList=this.allDishesList.filter(s=>s.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(s=>s.category==="配菜類"),this.searchedList.length&&(this.searchedList=this.searchedList.sort((s,l)=>l.healthLevel-s.healthLevel))}),this.isLoading=!1},async getSelected(){if(this.memberData.id)await this.axios.get(`${this.apiUrl}/600/users/${this.memberData.id}/selecteds?_expand=dish`).then(t=>{this.selectedList=t.data.message});else{let t=JSON.parse(localStorage.getItem("selectedList"));this.selectedList=t||[]}},async addToSelected(t){await this.getSelected();const s=this.selectedList.find(o=>o.dishId===t.id),l=this.selectedList.findIndex(o=>o.dishId===t.id);if(s)this.memberData.id?await this.axios.patch(`${this.apiUrl}/600/selecteds/${s.id}`,{isChecked:!0}):(this.selectedList[l].isChecked=!0,localStorage.setItem("selectedList",JSON.stringify(this.selectedList)));else{const o={dishId:t.id,isChecked:t.isChecked,preferenceLevel:+t.preferenceLevel};this.memberData.id?await this.axios.post(`${this.apiUrl}/600/users/${this.memberData.id}/selecteds/`,o):(this.selectedList.push(o),localStorage.setItem("selectedList",JSON.stringify(this.selectedList)))}},async updatePreferenceLevel(t){this.isLoading=!0,await this.getSelected();const s=this.selectedList.find(o=>o.dishId===t.id),l=this.selectedList.findIndex(o=>o.dishId===t.id);this.memberData.id?await this.axios.patch(`${this.apiUrl}/600/selecteds/${s.id}`,{preferenceLevel:+t.preferenceLevel}).catch(()=>{b.error("發生了某些錯誤，將重新整理頁面。",{autoClose:_}),setTimeout(()=>{location.reload()},_)}):(this.selectedList[l].preferenceLevel=+t.preferenceLevel,localStorage.setItem("selectedList",JSON.stringify(this.selectedList))),await this.getAllDishesList(),this.isLoading=!1},async uncheckFromSelected(t){await this.getSelected();const s=this.selectedList.find(o=>o.dishId===t.id),l=this.selectedList.findIndex(o=>o.dishId===t.id);s?+t.preferenceLevel==1?this.memberData.id?await this.axios.delete(`${this.apiUrl}/600/selecteds/${s.id}`):(this.selectedList.splice(l,1),localStorage.setItem("selectedList",JSON.stringify(this.selectedList))):this.memberData.id?await this.axios.patch(`${this.apiUrl}/600/selecteds/${s.id}`,{isChecked:!1}):(this.selectedList[l].isChecked=!1,localStorage.setItem("selectedList",JSON.stringify(this.selectedList))):(b.error("發生了某些錯誤，將重新整理頁面。",{autoClose:_}),setTimeout(()=>{location.reload()},_))},async updateSelected(t){this.isLoading=!0,t.isChecked===!0?await this.addToSelected(t):await this.uncheckFromSelected(t),await this.getAllDishesList(),this.isLoading=!1},async init(){this.isLoading=!0,await this.getUser(),this.getMode(),await this.getAllDishesList(),this.isLoading=!1},...N(C,["getUser"])},mounted(){this.init()}},r=t=>(S("data-v-15a7d826"),t=t(),T(),t),He={class:"container"},Ke=r(()=>e("div",{class:"title"},[e("h2",{class:"text-center my-3"},"帶您探索菜色的無限可能"),e("div",{class:"site-induction-btn btn p-0 d-flex"},[e("i",{class:"fa-solid fa-circle-info text-secondary fs-2",title:"網站介紹","data-bs-toggle":"modal","data-bs-target":"#siteIntroModal"})])],-1)),Qe={class:"mode-btns text-center mb-3"},Re={class:"btn-group",role:"group","aria-label":"Basic outlined example"},Xe={class:"filter-sort-search-container mb-2 d-flex justify-content-between"},Ye={class:"category-filter",style:{width:"8rem"}},Ze=D('<option selected disabled data-v-15a7d826>篩選</option><option value="全部" data-v-15a7d826>全部</option><option value="主食類" data-v-15a7d826>主食類</option><option value="配菜類" data-v-15a7d826>配菜類</option><option value="主菜類" data-v-15a7d826>主菜類</option>',5),et=[Ze],tt={class:"sort-search-container d-flex justify-content-between gap-2"},st={class:"sort-dropdown dropdown"},it=r(()=>e("button",{class:"btn btn-outline-primary",type:"button",id:"SortByWhatFactorDropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("strong",null,"三")],-1)),lt={class:"dropdown-menu","aria-labelledby":"SortByWhatFactorDropdownMenuButton"},ot=r(()=>e("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),at=[ot],dt={class:"wrap w-80 mx-auto pt-5 pb-4"},nt={key:0,class:"staple mb-4"},rt=r(()=>e("h3",{class:"d-inline mx-2"},"主食類",-1)),ct={key:0,class:"text-danger"},ht=r(()=>e("hr",null,null,-1)),mt={key:1,class:"dishes mb-4"},pt=r(()=>e("h3",{class:"d-inline mx-2"},"配菜類",-1)),ft={key:0,class:"text-danger"},ut=r(()=>e("hr",null,null,-1)),_t={key:2,class:"entree mb-4"},vt=r(()=>e("h3",{class:"d-inline mx-2"},"主菜類",-1)),gt={key:0,class:"text-danger"},bt=r(()=>e("hr",null,null,-1)),Lt={key:3,class:"entree mb-4"},yt=r(()=>e("h3",{class:"mx-2"},"搜尋結果",-1)),wt=r(()=>e("hr",null,null,-1)),xt={id:"bentoGenerator",class:"bento-generator text-center"},Dt={class:"aside"},kt={class:"aside-head"},Ct=r(()=>e("i",{class:"fa-solid fa-angles-down"},null,-1)),It=[Ct],St={class:"modal fade",id:"siteIntroModal",tabindex:"-1","aria-labelledby":"siteIntroModalLabel","aria-hidden":"true"},Tt={class:"modal-dialog modal-lg modal-dialog-centered"},Bt={class:"modal-content vh-75"},Pt={class:"modal-header justify-content-between"},Ut=r(()=>e("h4",{class:"modal-title",id:"siteIntroModalLabel"},"網站介紹",-1)),Mt=r(()=>e("button",{type:"button",class:"btn text-primary p-0","data-bs-dismiss":"modal","aria-label":"Close"},"略過",-1)),Nt={class:"modal-body d-flex justify-content-between align-items-center p-3"},jt={key:0,type:"button",class:"btn prev-btn"},Vt=r(()=>e("i",{class:"bi bi-chevron-left"},null,-1)),Ot=[Vt],At=r(()=>e("div",{class:"row row-cols-1 row-cols-lg-2 align-items-center h-100 w-100"},[e("div",{class:"col col-lg-5 col-8 p-3 mx-auto align-self-center"},[e("div",null,[e("p",{class:"text-center"},"我是gif")])]),e("div",{class:"col gap-3 p-3 mx-auto mt-0"},[e("p",null,"★ 你可以 篩選出 主食、配菜與主菜"),e("p",null,"★ 你可以 依 喜好程度 或 健康推薦指數，將菜色卡片進行排序"),e("p",null,"★ 你可以 以 關鍵字 搜尋特定菜色卡片")])],-1)),Ft={key:1,type:"button",class:"btn next-btn"},Jt=r(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),zt=[Jt],Gt=r(()=>e("div",{class:"modal-footer"},[e("div",{class:"no-show-again d-flex gap-2 mx-auto"},[e("input",{type:"checkbox",id:"no-show-again",name:"no-show-again",class:"form-check-input no-show-again-checkout"}),e("label",{for:"no-show-again"},"不再顯示")])],-1));function Wt(t,s,l,o,i,a){const d=y("loadingVue"),c=y("DishesComponent"),B=y("BentoComponent");return h(),m(w,null,[g(d,{active:i.isLoading},null,8,["active"]),e("div",He,[Ke,e("div",Qe,[e("div",Re,[e("button",{type:"button",class:v(["default-mode btn btn-outline-primary px-4 py-2",{active:i.mode==="default"}]),onClick:s[0]||(s[0]=n=>a.setMode("default"))},"預設模式",2),e("button",{type:"button",class:v(["customization-mode btn btn-outline-primary px-4 py-2",{active:i.mode==="customization"}]),onClick:s[1]||(s[1]=n=>a.setMode("customization"))},"自選模式",2)])]),e("div",Xe,[e("div",Ye,[L(e("select",{class:"form-select outline-primary","aria-label":"Default select example","onUpdate:modelValue":s[2]||(s[2]=n=>i.filter=n)},et,512),[[x,i.filter]])]),e("div",tt,[e("div",st,[it,e("ul",lt,[e("li",null,[e("a",{class:v(["dropdown-item",{active:i.sortBy==="default"}]),href:"javascript:;",onClick:s[3]||(s[3]=n=>i.sortBy="default")},"依 預設 排序",2)]),e("li",null,[e("a",{class:v(["dropdown-item",{active:i.sortBy==="preferenceLevel"}]),href:" javascript:;",onClick:s[4]||(s[4]=n=>i.sortBy="preferenceLevel")},"依 喜好程度 排序",2)]),e("li",null,[e("a",{class:v(["dropdown-item",{active:i.sortBy==="healthLevel"}]),href:"javascript:;",onClick:s[5]||(s[5]=n=>i.sortBy="healthLevel")},"依 健康分數 排序",2)])])]),e("form",{class:"search-input input-group",onSubmit:s[8]||(s[8]=j((...n)=>a.getSearchedDishes&&a.getSearchedDishes(...n),["prevent"]))},[L(e("input",{type:"text",class:"form-control",placeholder:"搜尋菜色","aria-label":"Search","aria-describedby":"Input Box For Searching Dishes",size:"10","onUpdate:modelValue":s[6]||(s[6]=n=>i.searchInput=n)},null,512),[[V,i.searchInput,void 0,{trim:!0}]]),e("button",{class:"btn btn-outline-primary",type:"button",id:"button-addon2",onClick:s[7]||(s[7]=(...n)=>a.getSearchedDishes&&a.getSearchedDishes(...n))},at)],32)])]),e("div",{class:v(["menu border border-primary rounded mb-3 position-relative",{mask:i.mode==="default"}])},[e("div",dt,[(i.filter==="全部"||i.filter==="主食類")&&i.search===""?(h(),m("div",nt,[rt,i.stapleList.filter(n=>n.isChecked===!0).length<1?(h(),m("small",ct,"*請至少選擇一樣")):f("",!0),ht,g(c,{"dishes-list":i.stapleList,mode:i.mode,"modal-name":"stapleModal","update-selected":a.updateSelected,"update-preference-level":a.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):f("",!0),(i.filter==="全部"||i.filter==="配菜類")&&i.search===""?(h(),m("div",mt,[pt,i.sideDishesList.filter(n=>n.isChecked===!0).length<3?(h(),m("small",ft,"*請至少選擇三樣")):f("",!0),ut,g(c,{"dishes-list":i.sideDishesList,mode:i.mode,"modal-name":"sideDishesModal","update-selected":a.updateSelected,"update-preference-level":a.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):f("",!0),(i.filter==="全部"||i.filter==="主菜類")&&i.search===""?(h(),m("div",_t,[vt,i.mainDishesList.filter(n=>n.isChecked===!0).length<1?(h(),m("small",gt,"*請至少選擇一樣")):f("",!0),bt,g(c,{"dishes-list":i.mainDishesList,mode:i.mode,"modal-name":"mainDishesModal","update-selected":a.updateSelected,"update-preference-level":a.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):f("",!0),i.search!==""?(h(),m("div",Lt,[yt,wt,g(c,{"dishes-list":i.searchedList,mode:i.mode,"modal-name":"searchedDishesModal","update-selected":a.updateSelected,"update-preference-level":a.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):f("",!0)])],2),e("div",xt,[e("button",{type:"button",class:"btn btn-outline-primary bento-generator-btn mb-4 px-4 py-3","data-bs-toggle":"modal","data-bs-target":"#bentoModal",onClick:s[9]||(s[9]=n=>{var k;return((k=i.bentoTemp.sideDishes)==null?void 0:k.length)===0?a.generateBento():null})},"生成便當")]),e("aside",Dt,[e("div",kt,[e("a",{href:"javascript:;",class:"aside-link aside-link-generator",onClick:s[10]||(s[10]=(...n)=>a.moveToGeneratorBentoBtn&&a.moveToGeneratorBentoBtn(...n))},It)])])]),e("div",St,[e("div",Tt,[e("div",Bt,[e("div",Pt,[Ut,e("small",null,u(i.introIndex)+" / 7 ",1),Mt]),e("div",Nt,[i.introIndex!==1?(h(),m("button",jt,Ot)):f("",!0),At,i.introIndex!==7?(h(),m("button",Ft,zt)):f("",!0)]),Gt])])]),g(B,{"bento-temp":i.bentoTemp,"generate-bento":a.generateBento,"member-data":t.memberData},null,8,["bento-temp","generate-bento","member-data"])],64)}const $t=I($e,[["render",Wt],["__scopeId","data-v-15a7d826"]]);export{$t as default};
