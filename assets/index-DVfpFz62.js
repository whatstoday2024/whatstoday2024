import{_ as h,c as m,d as l,b as e,w as f,F as b,a as v,e as r,o as u,t as V,j as k,i as d}from"./index-4BPesMZs.js";const y={data(){return{user:{nickname:"",email:"",password:"",role:"user"},passwordDoubleCheck:"",registerError:"",isLoading:!1}},methods:{register(){this.isLoading=!0,this.registerError="",this.axios.post("https://whatstoday2024.onrender.com/register",this.user).then(()=>{this.isLoading=!1,alert("註冊成功！前往登入"),this.$router.push({name:"Login"})}).catch(c=>{var s;((s=c.response)==null?void 0:s.data)==="Email already exists"?this.registerError=`${this.user.email} 用戶已存在`:this.registerError="註冊失敗",this.isLoading=!1})}}},w={class:"container flex-fill py-4 py-lg-5 d-flex align-items-center"},x={class:"w-100"},C={class:"row g-3 g-lg-4 justify-content-evenly"},E=v('<div class="col-lg-5 align-self-lg-center"><div class="text-center text-lg-end opacity-75"><h1 class="display-6"> 加入會員 <span class="d-block d-lg-none d-xl-block mt-3">帶您探索菜色的無限可能</span><span class="d-none d-lg-block d-xl-none mt-3">帶您探索菜色的</span><span class="d-none d-lg-block d-xl-none mt-3">無限可能</span></h1></div></div>',1),L={class:"col-lg-6"},D=e("h3",{class:"h2 mb-3 text-center"},"註冊帳號",-1),F={class:"text-center"},N={key:0,class:"alert alert-danger mb-4"},S={class:"form-floating mb-4"},U=e("label",{for:"username"},"請輸入暱稱",-1),q={class:"form-floating mb-4"},B=e("label",{for:"email"},"請輸入電子信箱",-1),j={class:"form-floating mb-4"},M=e("label",{for:"password"},"請輸入密碼",-1),z={class:"form-floating mb-4"},A=e("label",{for:"passwordDoubleCheck"},"再次確認密碼",-1),G=e("button",{type:"submit",class:"btn btn-primary btn-lg rounded-pill"},"註冊",-1);function H(c,s,I,J,o,p){const g=r("loadingVue"),n=r("VField"),a=r("ErrorMessage"),_=r("VForm");return u(),m(b,null,[l(g,{active:o.isLoading},null,8,["active"]),e("div",w,[e("div",x,[e("div",C,[E,e("div",L,[l(_,{class:"card rounded-4 p-4 p-lg-5",onSubmit:p.register},{default:f(({errors:i})=>[D,e("div",F,[e("button",{type:"button",class:"btn btn-outline-primary mb-4 rounded-pill",onClick:s[0]||(s[0]=t=>c.$router.push({name:"Login"}))},"已有會員，前往登入")]),o.registerError?(u(),m("div",N,V(o.registerError),1)):k("",!0),e("div",S,[l(n,{type:"text",id:"username",placeholder:"請輸入暱稱",name:"暱稱",class:d(["form-control",{"is-invalid":i.暱稱}]),rules:"required",modelValue:o.user.nickname,"onUpdate:modelValue":s[1]||(s[1]=t=>o.user.nickname=t)},null,8,["class","modelValue"]),l(a,{name:"暱稱",class:"invalid-feedback"}),U]),e("div",q,[l(n,{type:"email",id:"email",placeholder:"請輸入電子信箱",name:"信箱",class:d(["form-control",{"is-invalid":i.信箱}]),rules:"email|required",modelValue:o.user.email,"onUpdate:modelValue":s[2]||(s[2]=t=>o.user.email=t)},null,8,["class","modelValue"]),l(a,{name:"信箱",class:"invalid-feedback"}),B]),e("div",j,[l(n,{type:"password",id:"password",placeholder:"請輸入密碼",name:"密碼",class:d(["form-control",{"is-invalid":i.密碼}]),rules:"min:4",modelValue:o.user.password,"onUpdate:modelValue":s[3]||(s[3]=t=>o.user.password=t)},null,8,["class","modelValue"]),l(a,{name:"密碼",class:"invalid-feedback"}),M]),e("div",z,[l(n,{type:"password",id:"passwordDoubleCheck",placeholder:"再次確認密碼",name:"再次確認密碼",class:d(["form-control",{"is-invalid":i.再次確認密碼}]),rules:"required|confirmed:@密碼",modelValue:o.passwordDoubleCheck,"onUpdate:modelValue":s[4]||(s[4]=t=>o.passwordDoubleCheck=t)},null,8,["class","modelValue"]),l(a,{name:"再次確認密碼",class:"invalid-feedback"}),A]),G]),_:1},8,["onSubmit"])])])])])],64)}const O=h(y,[["render",H]]);export{O as default};
