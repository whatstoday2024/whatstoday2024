import{_ as h,j as f,c as m,b as l,a as e,w as b,F as v,d as V,r as d,o as u,t as k,i as y,h as c}from"./index-JGpVG-b7.js";document.title="開始探索";const w={data(){return{user:{nickname:"",email:"",password:""},passwordDoubleCheck:"",registerError:"",isLoading:!1}},methods:{register(){this.isLoading=!0,this.registerError="",this.axios.post("https://whatstoday2024-8nsu.onrender.com/register",this.user).then(()=>{this.isLoading=!1;const n=1e3;f.success("註冊成功！前往登入",{autoClose:n}),setTimeout(()=>{this.$router.push({name:"Login"})},n)}).catch(n=>{var s;((s=n.response)==null?void 0:s.data)==="Email already exists"?this.registerError=`${this.user.email} 用戶已存在`:this.registerError="註冊失敗",this.isLoading=!1})}}},x={class:"container flex-fill py-4 py-lg-5 d-flex align-items-center"},C={class:"w-100"},E={class:"row g-3 g-lg-4 justify-content-evenly"},L=V('<div class="col-lg-5 align-self-lg-center"><div class="text-center text-lg-end opacity-75"><h1 class="display-6"> 加入會員 <span class="d-block d-lg-none d-xl-block mt-3">帶您探索菜色的無限可能</span><span class="d-none d-lg-block d-xl-none mt-3">帶您探索菜色的</span><span class="d-none d-lg-block d-xl-none mt-3">無限可能</span></h1></div></div>',1),D={class:"col-lg-6"},F=e("h3",{class:"h2 mb-4 text-center"},"註冊帳號",-1),N={key:0,class:"alert alert-danger mb-4"},S={class:"form-floating mb-4"},U=e("label",{for:"name"},"請輸入暱稱",-1),q={class:"form-floating mb-4"},B=e("label",{for:"email"},"請輸入電子信箱",-1),j={class:"form-floating mb-4"},M=e("label",{for:"password"},"請輸入密碼",-1),z={class:"form-floating mb-4"},T=e("label",{for:"passwordDoubleCheck"},"再次確認密碼",-1),A={class:"d-flex"},G=e("button",{type:"submit",class:"btn btn-primary btn-lg rounded-pill w-50 ms-2"},"註冊",-1);function H(n,s,I,J,o,p){const g=d("loadingVue"),a=d("VField"),i=d("ErrorMessage"),_=d("VForm");return u(),m(v,null,[l(g,{active:o.isLoading},null,8,["active"]),e("div",x,[e("div",C,[e("div",E,[L,e("div",D,[l(_,{class:"card border-primary rounded-4 p-4 p-lg-5",onSubmit:p.register},{default:b(({errors:r})=>[F,o.registerError?(u(),m("div",N,k(o.registerError),1)):y("",!0),e("div",S,[l(a,{type:"text",id:"name",placeholder:"請輸入暱稱",name:"暱稱",class:c(["form-control",{"is-invalid":r.暱稱}]),rules:"required",modelValue:o.user.nickname,"onUpdate:modelValue":s[0]||(s[0]=t=>o.user.nickname=t)},null,8,["class","modelValue"]),l(i,{name:"暱稱",class:"invalid-feedback"}),U]),e("div",q,[l(a,{type:"email",id:"email",placeholder:"請輸入電子信箱",name:"信箱",class:c(["form-control",{"is-invalid":r.信箱}]),rules:"email|required",modelValue:o.user.email,"onUpdate:modelValue":s[1]||(s[1]=t=>o.user.email=t)},null,8,["class","modelValue"]),l(i,{name:"信箱",class:"invalid-feedback"}),B]),e("div",j,[l(a,{type:"password",id:"password",placeholder:"請輸入密碼",name:"密碼",class:c(["form-control",{"is-invalid":r.密碼}]),rules:"min:4",modelValue:o.user.password,"onUpdate:modelValue":s[2]||(s[2]=t=>o.user.password=t)},null,8,["class","modelValue"]),l(i,{name:"密碼",class:"invalid-feedback"}),M]),e("div",z,[l(a,{type:"password",id:"passwordDoubleCheck",placeholder:"再次確認密碼",name:"再次確認密碼",class:c(["form-control",{"is-invalid":r.再次確認密碼}]),rules:"required|confirmed:@密碼",modelValue:o.passwordDoubleCheck,"onUpdate:modelValue":s[3]||(s[3]=t=>o.passwordDoubleCheck=t)},null,8,["class","modelValue"]),l(i,{name:"再次確認密碼",class:"invalid-feedback"}),T]),e("div",A,[e("button",{type:"button",class:"btn btn-outline-primary btn-lg rounded-pill w-50 me-2",onClick:s[4]||(s[4]=t=>n.$router.push({name:"Login"}))},"已有會員，前往登入"),G])]),_:1},8,["onSubmit"])])])])])],64)}const O=h(w,[["render",H]]);export{O as default};
