import{_,s as g,B as d,m as u,j as b,c as f,b as n,a as s,t as c,F as y,k as l,r as m,o as v,p as x,e as I}from"./index-CI6KSxWR.js";import{p as w}from"./index-Dd3q9SRP.js";const A={data(){return{isLoading:!1,total:"",members:""}},components:{Plus:w},computed:{...g(l,["checkIsAdmin"])},methods:{async getItemsQty(){const e=await d.get("https://whatstoday2024-8nsu.onrender.com/dishes");this.total=e.data.message.length},async getMembers(){const e=await d.get("https://whatstoday2024-8nsu.onrender.com/users");this.members=e.data.message.length-1},goToAddPage(){this.$router.push("/admin/add-item")},goToAllItems(){this.$router.push({name:"AdminItems"})},...u(l,["checkIsAdmin","getUser"])},async mounted(){document.title="後台管理",this.isLoading=!0,await this.getUser(),this.checkIsAdmin()||(b.error("非管理者無法執行"),this.$router.push("/")),await this.getItemsQty(),await this.getMembers(),this.isLoading=!1}},a=e=>(x("data-v-417d3279"),e=e(),I(),e),k={class:"flex-fill d-flex align-items-center"},P={class:"container py-5"},S=a(()=>s("h2",{class:"mb-4"},"後台管理系統",-1)),T={class:"row g-4"},V={class:"border border-primary rounded-4 p-5 text-center"},B=a(()=>s("h5",{class:"fs-4"},"當前菜色總數",-1)),L={class:"mb-0",style:{"font-size":"8rem","line-height":"0.8"}},C={class:"col-lg-6"},z={class:"border border-primary bg-primary-light rounded-4 p-5 h-100 text-center"},D=a(()=>s("h5",{class:"mb-4 fs-4"},"會員總數",-1)),F={class:"mb-0",style:{"font-size":"8rem","line-height":"0.8"}},M={class:"border border-primary rounded-4 p-5 h-100 text-center"},N=a(()=>s("h5",{class:"mb-4 fs-4"},"新增菜色",-1));function Q(e,t,U,$,i,o){const h=m("loadingVue"),p=m("Plus");return v(),f(y,null,[n(h,{active:i.isLoading},null,8,["active"]),s("div",k,[s("div",P,[S,s("div",T,[s("div",{class:"col-12 box",onClick:t[0]||(t[0]=(...r)=>o.goToAllItems&&o.goToAllItems(...r))},[s("div",V,[B,s("p",L,c(i.total),1)])]),s("div",C,[s("div",z,[D,s("p",F,c(i.members),1)])]),s("div",{onClick:t[1]||(t[1]=(...r)=>o.goToAddPage&&o.goToAddPage(...r)),class:"col-lg-6 box"},[s("div",M,[N,n(p,{style:{width:"100px",height:"100px",cursor:"pointer"}})])])])])])],64)}const q=_(A,[["render",Q],["__scopeId","data-v-417d3279"]]);export{q as default};
