import{_ as k,o as d,c,F as y,g as B,a as e,t as f,h as _,l as b,q as P,v as w,p as C,e as S,d as D,s as M,j as g,m as N,b as v,u as V,x as j,i as p,k as x,r as L,f as U}from"./index-DjEo22Dg.js";import{B as O}from"./BentoComponent-DbWSldWW.js";import{s as A}from"./index-BW6dXUVk.js";import{M as F}from"./modal-D7B3Xvzx.js";const J={props:["dishesList","mode","modalName","updateSelected","updatePreferenceLevel"],data(){return{dishInfo:{}}},methods:{},mounted(){}},u=t=>(C("data-v-e36216c8"),t=t(),S(),t),z={key:0,class:"cards row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-5 g-4"},G={class:"card h-100"},W=["src","alt"],q={class:"card-body dish-info mx-auto px-0 py-3 w-80 d-flex flex-column justify-content-between"},E=["onClick"],H=["data-bs-target"],R={class:"card-title text-center"},Y={class:"card-eng-title mb-3 d-block text-center"},K={class:"input-group mx-auto"},Q=["onUpdate:modelValue","onChange","disabled"],X=["onUpdate:modelValue","onChange","disabled"],Z=D('<option value="1" selected data-v-e36216c8>1</option><option value="2" data-v-e36216c8>2</option><option value="3" data-v-e36216c8>3</option><option value="4" data-v-e36216c8>4</option><option value="5" data-v-e36216c8>5</option>',5),$=[Z],ee={key:1,class:"mx-2"},te=u(()=>e("h5",null,"沒有找到對應的菜色",-1)),se=[te],ie=["id"],oe={class:"modal-dialog modal-lg modal-dialog-centered"},le={class:"modal-content dish"},ae=u(()=>e("div",{class:"modal-header px-4"},[e("h3",{class:"modal-title",id:"dishModalLabel"},"菜色介紹"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),re={class:"modal-body"},ne={class:"row row-cols-1 row-cols-lg-2"},de={class:"col order-last order-lg-1 row row-cols-1 gap-3 mt-0 py-3 px-0 mx-auto justify-content-center"},ce={class:"col row align-items-start"},he=u(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"中文菜名：")],-1)),me={class:"col"},pe={class:"m-0"},ue={class:"col row align-items-start"},fe=u(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"英文菜名：")],-1)),_e={class:"col"},ve={class:"m-0"},ge={class:"col row align-items-center"},be=u(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"喜好程度：")],-1)),Le={class:"col"},ye=["disabled"],we=D('<option value="1" data-v-e36216c8>1</option><option value="2" data-v-e36216c8>2</option><option value="3" data-v-e36216c8>3</option><option value="4" data-v-e36216c8>4</option><option value="5" data-v-e36216c8>5</option>',5),De=[we],xe={class:"col row align-items-start"},ke=u(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"健康推薦指數：")],-1)),Ce={class:"col"},Se={class:"m-0"},Ie={class:"col row align-items-start"},Te=u(()=>e("div",{class:"col"},[e("h6",{class:"m-0 lh-base"},"營養比例：")],-1)),Be={class:"col"},Pe={class:"row row-cols-1 justify-content-between"},Me={class:"col d-flex"},Ne=u(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"澱粉")],-1)),Ve={class:"w-50"},je={class:"m-0 text-end"},Ue={class:"col d-flex"},Oe=u(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"蛋白質")],-1)),Ae={class:"w-50"},Fe={class:"m-0 text-end"},Je={class:"col d-flex"},ze=u(()=>e("div",{class:"w-50"},[e("p",{class:"m-0"},"蔬菜")],-1)),Ge={class:"w-50"},We={class:"m-0 text-end"},qe={class:"col col-lg-5 col-8 p-3 order-first order-lg-2 mx-auto align-self-center"},Ee=["src"];function He(t,i,o,a,s,l){return d(),c(y,null,[o.dishesList.length!==0?(d(),c("div",z,[(d(!0),c(y,null,B(o.dishesList,r=>(d(),c("div",{class:"col",key:r.title},[e("div",G,[e("img",{src:r.imgUrl,height:"120rem",class:"card-img-top object-fit-cover",alt:r.title+"的圖片"},null,8,W),e("div",q,[e("div",{class:"dish-info-btn btn p-0 d-flex",onClick:m=>s.dishInfo=r},[e("i",{class:"fa-solid fa-circle-info text-secondary fs-5 lh-sm",title:"菜色介紹","data-bs-toggle":"modal","data-bs-target":"#"+o.modalName},null,8,H)],8,E),e("h5",R,f(r.title),1),e("small",Y,f(r.engTitle),1),e("div",K,[e("div",{class:_(["input-group-text",{"bg-primary-mid":r.isLoading===!0}]),title:"加入抽取範圍"},[b(e("input",{class:"form-check-input mt-0",type:"checkbox","aria-label":"Checkbox for following text input","onUpdate:modelValue":m=>r.isChecked=m,onChange:m=>o.updateSelected(r),disabled:o.mode==="default"||r.isLoading===!0},null,40,Q),[[P,r.isChecked]])],2),b(e("select",{class:_(["form-select",{"bg-primary-light":r.isLoading===!0}]),"aria-label":"Default select example","onUpdate:modelValue":m=>r.preferenceLevel=m,onChange:m=>o.updatePreferenceLevel(r),disabled:!r.isChecked||o.mode==="default"||r.isLoading===!0,title:"菜色喜好程度"},$,42,X),[[w,r.preferenceLevel]])])])])]))),128))])):(d(),c("div",ee,se)),e("div",{class:"modal fade",id:o.modalName,tabindex:"-1","aria-labelledby":"dishModalLabel","aria-hidden":"true"},[e("div",oe,[e("div",le,[ae,e("div",re,[e("div",ne,[e("div",de,[e("div",ce,[he,e("div",me,[e("p",pe,f(s.dishInfo.title),1)])]),e("div",ue,[fe,e("div",_e,[e("p",ve,f(s.dishInfo.engTitle),1)])]),e("div",ge,[be,e("div",Le,[b(e("select",{class:"form-select w-75","aria-label":"Default select example",disabled:!s.dishInfo.isChecked,"onUpdate:modelValue":i[0]||(i[0]=r=>s.dishInfo.preferenceLevel=r)},De,8,ye),[[w,s.dishInfo.preferenceLevel]])])]),e("div",xe,[ke,e("div",Ce,[e("p",Se,f(s.dishInfo.healthLevel),1)])]),e("div",Ie,[Te,e("div",Be,[e("div",Pe,[e("div",Me,[Ne,e("div",Ve,[e("p",je,f(s.dishInfo.starchPortion/4)+" 碗",1)])]),e("div",Ue,[Oe,e("div",Ae,[e("p",Fe,f(s.dishInfo.proteinPortion)+" 份",1)])]),e("div",Je,[ze,e("div",Ge,[e("p",We,f(s.dishInfo.vegetablePortion)+" 份",1)])])])])])]),e("div",qe,[e("img",{class:"object-fit-cover",src:s.dishInfo.imgUrl,alt:""},null,8,Ee)])])])])])],8,ie)],64)}const Re=k(J,[["render",He],["__scopeId","data-v-e36216c8"]]);console.clear();document.title="來點菜單";const Ye={components:{DishesComponent:Re,BentoComponent:O,SortDown:A},data(){return{isLoading:!1,isBottom:!1,introIndex:1,mode:"default",filter:"全部",sortBy:"default",search:"",searchInput:"",searchedList:[],allDishesList:[],stapleList:[],mainDishesList:[],sideDishesList:[],selectedList:[],bentoTemp:{stapleCourse:{},mainCourse:{},sideDishes:[],date:"",mealType:"",starchTotalPortion:0,proteinTotalPortion:0,vegetableTotalPortion:0},bentoModal:null,successDelay:1500,errorDelay:2e3}},computed:{...M(x,["memberData","hasCheckLogin"])},watch:{sortBy(){this.getSortedDishes()},filter(){this.getSearchedDishes()}},methods:{drawOneDish(t){const i=this.mode==="default"?t.reduce((s,l)=>s+l.healthLevel,0):t.reduce((s,l)=>s+l.healthLevel+ +l.preferenceLevel,0);let o=Math.random()*i,a=0;for(let s=0;s<t.length;s++)if(o-=this.mode==="default"?t[s].healthLevel:t[s].healthLevel+ +t[s].preferenceLevel,o<=0){a=s;break}return this.bentoTemp.starchTotalPortion+=t[a].starchPortion,this.bentoTemp.proteinTotalPortion+=t[a].proteinPortion,this.bentoTemp.vegetableTotalPortion+=t[a].vegetablePortion,t[a]},drawThreeDishes(t){const i=[],o=[...t];for(;i.length<3;){const a=this.mode==="default"?o.reduce((r,m)=>r+m.healthLevel,0):o.reduce((r,m)=>r+m.healthLevel+ +m.preferenceLevel,0);let s=Math.random()*a,l=0;for(let r=0;r<o.length;r++)if(s-=this.mode==="default"?o[r].healthLevel:o[r].healthLevel+ +o[r].preferenceLevel,s<=0){l=r;break}this.bentoTemp.starchTotalPortion+=t[l].starchPortion,this.bentoTemp.proteinTotalPortion+=t[l].proteinPortion,this.bentoTemp.vegetableTotalPortion+=t[l].vegetablePortion,i.push(o[l]),o.splice(l,1)}return i},bentoPretest(){var t;((t=this.bentoTemp.sideDishes)==null?void 0:t.length)===0?this.generateBento():this.bentoModal.show()},async generateBento(){console.clear(),this.isLoading=!0,await this.getAllDishesList();let t=!0;const i=this.mode==="default"?this.stapleList:this.stapleList.filter(s=>s.isChecked===!0),o=this.mode==="default"?this.mainDishesList:this.mainDishesList.filter(s=>s.isChecked===!0),a=this.mode==="default"?this.sideDishesList:this.sideDishesList.filter(s=>s.isChecked===!0);if(i.length<1&&(t=!1,g.error("自選模式必須選取至少一種主食。",{autoClose:this.errorDelay})),a.length<3&&(t=!1,g.error("自選模式必須選取至少三種配菜。",{autoClose:this.errorDelay})),o.length<1&&(t=!1,g.error("自選模式必須選取至少一種主菜。",{autoClose:this.errorDelay})),!t){this.isLoading=!1;return}this.bentoTemp={starchTotalPortion:0,proteinTotalPortion:0,vegetableTotalPortion:0},this.bentoTemp.stapleCourse=this.drawOneDish(i),this.bentoTemp.mainCourse=this.drawOneDish(o),this.bentoTemp.sideDishes=this.drawThreeDishes(a),g.success("新便當已生成。",{autoClose:this.successDelay}),this.bentoModal.show(),this.isLoading=!1},scroll(){this.isBottom?window.scrollTo({top:0,left:0,behavior:"smooth"}):this.moveToGeneratorBentoBtn()},moveToGeneratorBentoBtn(){document.querySelector("#bentoGenerator").scrollIntoView({behavior:"smooth"})},getMode(){if(this.memberData.id)this.mode=this.memberData.mode!==void 0?this.memberData.mode:"default";else{const t=localStorage.getItem("mode");this.mode=t||"default"}},async setMode(t){if(this.isLoading=!0,this.mode=t,this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/users/${this.memberData.id}`,{mode:t})}catch{this.errorProcess()}else localStorage.setItem("mode",this.mode);this.isLoading=!1},async getAllDishesList(){try{await this.getSelectedDishes();const t=await this.axios.get("https://whatstoday2024-8nsu.onrender.com/dishes");this.allDishesList=t.data.message.map(i=>{const o=this.selectedList.find(a=>a.dishId===i.id);return o?{...i,isChecked:o.isChecked,preferenceLevel:+o.preferenceLevel}:{...i,isChecked:!1,preferenceLevel:1}}),this.stapleList=this.allDishesList.filter(i=>i.category==="主食類"),this.mainDishesList=this.allDishesList.filter(i=>i.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(i=>i.category==="配菜類")}catch{this.errorProcess()}},searchPretest(){this.search!==this.searchInput&&this.getSearchedDishes()},async getSearchedDishes(){this.isLoading=!0,this.searchedList=[],this.search=this.searchInput;try{const t="https://whatstoday2024-8nsu.onrender.com/dishes?title_like="+this.search+(this.filter==="全部"?"":"&category="+this.filter)+(this.sortBy!=="healthLevel"?"":"&_sort="+this.sortBy+"&_order=desc"),i=await this.axios.get(t);this.searchedList=[...this.searchedList,...i.data.message];const o="https://whatstoday2024-8nsu.onrender.com/dishes?engTitle_like="+this.search+(this.filter==="全部"?"":"&category="+this.filter)+(this.sortBy!=="healthLevel"?"":"&_sort="+this.sortBy+"&_order=desc"),a=await this.axios.get(o);this.searchedList=[...this.searchedList,...a.data.message],await this.getSelectedDishes(),this.searchedList=this.searchedList.map(s=>{const l=this.selectedList.find(r=>r.dishId===s.id);return l?{...s,isChecked:l.isChecked,preferenceLevel:+l.preferenceLevel}:{...s,isChecked:!1,preferenceLevel:1}}),await this.getSortedDishes()}catch{this.errorProcess()}this.isLoading=!1},async getSortedDishes(){if(this.isLoading=!0,this.sortBy==="default")this.searchedList.length&&(this.searchedList=this.searchedList.sort((t,i)=>t.id-i.id));else if(this.sortBy==="preferenceLevel")this.allDishesList=[...this.allDishesList.filter(t=>t.isChecked===!0).sort((t,i)=>i.preferenceLevel-t.preferenceLevel),...this.allDishesList.filter(t=>t.isChecked===!1).sort((t,i)=>i.preferenceLevel-t.preferenceLevel)],this.stapleList=this.allDishesList.filter(t=>t.category==="主食類"),this.mainDishesList=this.allDishesList.filter(t=>t.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(t=>t.category==="配菜類"),this.searchedList.length&&(this.searchedList=[...this.searchedList.filter(t=>t.isChecked===!0).sort((t,i)=>i.preferenceLevel-t.preferenceLevel),...this.searchedList.filter(t=>t.isChecked===!1).sort((t,i)=>i.preferenceLevel-t.preferenceLevel)]),this.selectedList.length&&(this.selectedList=[...this.selectedList.filter(t=>t.isChecked===!0).sort((t,i)=>i.preferenceLevel-t.preferenceLevel),...this.selectedList.filter(t=>t.isChecked===!1).sort((t,i)=>i.preferenceLevel-t.preferenceLevel)],this.memberData.id||localStorage.setItem("selectedList",JSON.stringify(this.selectedList)));else if(this.sortBy==="healthLevel"){try{const t=await this.axios.get(`https://whatstoday2024-8nsu.onrender.com/dishes?_sort=${this.sortBy}&_order=desc`);this.allDishesList=t.data.message.map(i=>{const o=this.selectedList.find(a=>a.dishId===i.id);return o?{...i,isChecked:o.isChecked,preferenceLevel:+o.preferenceLevel}:{...i,isChecked:!1,preferenceLevel:1}})}catch{this.errorProcess()}this.stapleList=this.allDishesList.filter(t=>t.category==="主食類"),this.mainDishesList=this.allDishesList.filter(t=>t.category==="主菜類"),this.sideDishesList=this.allDishesList.filter(t=>t.category==="配菜類"),this.searchedList.length&&(this.searchedList=this.searchedList.sort((t,i)=>i.healthLevel-t.healthLevel))}this.isLoading=!1},async getSelectedDishes(){if(this.memberData.id)try{const t=await this.axios.get(`https://whatstoday2024-8nsu.onrender.com/600/users/${this.memberData.id}/selecteds?_expand=dish`);this.selectedList=t.data.message}catch{this.errorProcess()}else{const t=JSON.parse(localStorage.getItem("selectedList"));this.selectedList=t||[]}},async addToSelected(t){await this.getSelectedDishes();const i=this.selectedList.find(a=>a.dishId===t.id),o=this.selectedList.findIndex(a=>a.dishId===t.id);if(i)if(this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${i.id}`,{isChecked:!0})}catch{this.errorProcess()}else this.selectedList[o].isChecked=!0,localStorage.setItem("selectedList",JSON.stringify(this.selectedList));else{const a={dishId:t.id,isChecked:t.isChecked,preferenceLevel:+t.preferenceLevel};if(this.memberData.id)try{await this.axios.post(`https://whatstoday2024-8nsu.onrender.com/600/users/${this.memberData.id}/selecteds/`,a)}catch{this.errorProcess()}else this.selectedList.push(a),localStorage.setItem("selectedList",JSON.stringify(this.selectedList))}},async updatePreferenceLevel(t){t.isLoading=!0,await this.getSelectedDishes();const i=this.selectedList.find(a=>a.dishId===t.id),o=this.selectedList.findIndex(a=>a.dishId===t.id);if(this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${i.id}`,{preferenceLevel:+t.preferenceLevel})}catch{this.errorProcess()}else this.selectedList[o].preferenceLevel=+t.preferenceLevel,localStorage.setItem("selectedList",JSON.stringify(this.selectedList));await this.getAllDishesList(),t.isLoading=!1},async uncheckFromSelected(t){await this.getSelectedDishes();const i=this.selectedList.find(a=>a.dishId===t.id),o=this.selectedList.findIndex(a=>a.dishId===t.id);if(i)if(+t.preferenceLevel==1)if(this.memberData.id)try{await this.axios.delete(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${i.id}`)}catch{this.errorProcess()}else this.selectedList.splice(o,1),localStorage.setItem("selectedList",JSON.stringify(this.selectedList));else if(this.memberData.id)try{await this.axios.patch(`https://whatstoday2024-8nsu.onrender.com/600/selecteds/${i.id}`,{isChecked:!1})}catch{this.errorProcess()}else this.selectedList[o].isChecked=!1,localStorage.setItem("selectedList",JSON.stringify(this.selectedList));else this.errorProcess()},async updateSelected(t){t.isLoading=!0,t.isChecked===!0?await this.addToSelected(t):await this.uncheckFromSelected(t),await this.getAllDishesList(),t.isLoading=!1},errorProcess(){g.error("發生了某些錯誤，將重新整理頁面。",{autoClose:this.errorDelay}),setTimeout(()=>{location.reload()},this.errorDelay)},async init(){this.isLoading=!0,await this.getUser(),this.getMode(),await this.getAllDishesList(),this.bentoModal=new F(document.querySelector("#bentoModal")),this.isLoading=!1},...N(x,["getUser"])},mounted(){this.init(),window.addEventListener("scroll",()=>{window.innerHeight+window.pageYOffset>=document.body.offsetHeight-5?this.isBottom=!0:this.isBottom=!1})}},h=t=>(C("data-v-c518ae1d"),t=t(),S(),t),Ke={class:"container"},Qe=h(()=>e("div",{class:"title text-center"},[e("h2",{class:"my-3 d-inline-block w-auto position-relative"},[U(" 帶您探索菜色的無限可能 "),e("button",{type:"button",class:"site-induction-btn btn p-0"},[e("h2",null,[e("i",{class:"fa-solid fa-circle-info text-secondary",title:"網站介紹","data-bs-toggle":"modal","data-bs-target":"#siteIntroModal"})])])])],-1)),Xe={class:"mode-btns text-center mb-3"},Ze={class:"btn-group",role:"group","aria-label":"Basic outlined example"},$e={class:"filter-sort-search-container mb-2 d-flex justify-content-between"},et={class:"category-filter",style:{width:"8rem"}},tt=D('<option selected disabled data-v-c518ae1d>篩選</option><option value="全部" data-v-c518ae1d>全部</option><option value="主食類" data-v-c518ae1d>主食類</option><option value="配菜類" data-v-c518ae1d>配菜類</option><option value="主菜類" data-v-c518ae1d>主菜類</option>',5),st=[tt],it={class:"sort-search-container d-flex justify-content-between gap-2"},ot={class:"sort-dropdown dropdown"},lt=h(()=>e("button",{type:"button",class:"btn btn-outline-primary",id:"SortByWhatFactorDropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("strong",null,"三")],-1)),at={class:"dropdown-menu","aria-labelledby":"SortByWhatFactorDropdownMenuButton"},rt=h(()=>e("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),nt=[rt],dt={class:"wrap w-80 mx-auto pt-5 pb-4"},ct={key:0,class:"staple mb-4"},ht=h(()=>e("h3",{class:"d-inline mx-2"},"主食類",-1)),mt={key:0,class:"text-danger"},pt=h(()=>e("hr",null,null,-1)),ut={key:1,class:"dishes mb-4"},ft=h(()=>e("h3",{class:"d-inline mx-2"},"配菜類",-1)),_t={key:0,class:"text-danger"},vt=h(()=>e("hr",null,null,-1)),gt={key:2,class:"entree mb-4"},bt=h(()=>e("h3",{class:"d-inline mx-2"},"主菜類",-1)),Lt={key:0,class:"text-danger"},yt=h(()=>e("hr",null,null,-1)),wt={key:3,class:"entree mb-4"},Dt=h(()=>e("h3",{class:"mx-2"},"搜尋結果",-1)),xt=h(()=>e("hr",null,null,-1)),kt={id:"bentoGenerator",class:"bento-generator text-center"},Ct={class:"d-flex justify-content-center"},St={key:0,class:"text-center"},It={key:1,class:"isBottom"},Tt={class:"modal fade",id:"siteIntroModal",tabindex:"-1","aria-labelledby":"siteIntroModalLabel","aria-hidden":"true"},Bt={class:"modal-dialog modal-lg modal-dialog-centered"},Pt={class:"modal-content vh-75"},Mt={class:"modal-header justify-content-between"},Nt=h(()=>e("h4",{class:"modal-title",id:"siteIntroModalLabel"},"網站介紹",-1)),Vt=h(()=>e("button",{type:"button",class:"btn text-primary p-0","data-bs-dismiss":"modal","aria-label":"Close"},"略過",-1)),jt={class:"modal-body d-flex justify-content-between align-items-center p-3"},Ut={key:0,type:"button",class:"btn prev-btn"},Ot=h(()=>e("i",{class:"bi bi-chevron-left"},null,-1)),At=[Ot],Ft=h(()=>e("div",{class:"row row-cols-1 row-cols-lg-2 align-items-center h-100 w-100"},[e("div",{class:"col col-lg-5 col-8 p-3 mx-auto align-self-center"},[e("div",null,[e("p",{class:"text-center"},"我是gif")])]),e("div",{class:"col gap-3 p-3 mx-auto mt-0"},[e("p",null,"★ 你可以 篩選出 主食、配菜與主菜"),e("p",null,"★ 你可以 依 喜好程度 或 健康推薦指數，將菜色卡片進行排序"),e("p",null,"★ 你可以 以 關鍵字 搜尋特定菜色卡片")])],-1)),Jt={key:1,type:"button",class:"btn next-btn"},zt=h(()=>e("i",{class:"bi bi-chevron-right"},null,-1)),Gt=[zt],Wt=h(()=>e("div",{class:"modal-footer"},[e("div",{class:"no-show-again d-flex gap-2 mx-auto"},[e("input",{type:"checkbox",id:"no-show-again",name:"no-show-again",class:"form-check-input no-show-again-checkout"}),e("label",{for:"no-show-again"},"不再顯示")])],-1));function qt(t,i,o,a,s,l){const r=L("loadingVue"),m=L("DishesComponent"),I=L("SortDown"),T=L("BentoComponent");return d(),c(y,null,[v(r,{active:s.isLoading},null,8,["active"]),e("div",Ke,[Qe,e("div",Xe,[e("div",Ze,[e("button",{type:"button",class:_(["default-mode btn btn-outline-primary px-4 py-2",{active:s.mode==="default"}]),onClick:i[0]||(i[0]=n=>l.setMode("default"))},"預設模式",2),e("button",{type:"button",class:_(["customization-mode btn btn-outline-primary px-4 py-2",{active:s.mode==="customization"}]),onClick:i[1]||(i[1]=n=>l.setMode("customization"))},"自選模式",2)])]),e("div",$e,[e("div",et,[b(e("select",{class:"form-select outline-primary","aria-label":"Default select example","onUpdate:modelValue":i[2]||(i[2]=n=>s.filter=n)},st,512),[[w,s.filter]])]),e("div",it,[e("div",ot,[lt,e("ul",at,[e("li",null,[e("a",{class:_(["dropdown-item",{active:s.sortBy==="default"}]),href:"javascript:;",onClick:i[3]||(i[3]=n=>s.sortBy="default")},"依 預設 排序",2)]),e("li",null,[e("a",{class:_(["dropdown-item",{active:s.sortBy==="preferenceLevel"}]),href:" javascript:;",onClick:i[4]||(i[4]=n=>s.sortBy="preferenceLevel")},"依 喜好程度 排序",2)]),e("li",null,[e("a",{class:_(["dropdown-item",{active:s.sortBy==="healthLevel"}]),href:"javascript:;",onClick:i[5]||(i[5]=n=>s.sortBy="healthLevel")},"依 健康分數 排序",2)])])]),e("form",{class:"search-input input-group",onSubmit:i[9]||(i[9]=V((...n)=>l.getSearchedDishes&&l.getSearchedDishes(...n),["prevent"]))},[b(e("input",{type:"text",class:"form-control",placeholder:"搜尋菜色","aria-label":"Search","aria-describedby":"Input Box For Searching Dishes",size:"10","onUpdate:modelValue":i[6]||(i[6]=n=>s.searchInput=n),onBlur:i[7]||(i[7]=(...n)=>l.searchPretest&&l.searchPretest(...n))},null,544),[[j,s.searchInput,void 0,{trim:!0}]]),e("button",{type:"button",class:"btn btn-outline-primary",id:"button-addon2",onClick:i[8]||(i[8]=(...n)=>l.getSearchedDishes&&l.getSearchedDishes(...n))},nt)],32)])]),e("div",{class:_(["menu border border-primary rounded mb-3 position-relative",{mask:s.mode==="default"}])},[e("div",dt,[(s.filter==="全部"||s.filter==="主食類")&&s.search===""?(d(),c("div",ct,[ht,s.stapleList.filter(n=>n.isChecked===!0).length<1?(d(),c("small",mt,"*請至少選擇一樣")):p("",!0),pt,v(m,{"dishes-list":s.stapleList,mode:s.mode,"modal-name":"stapleModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):p("",!0),(s.filter==="全部"||s.filter==="配菜類")&&s.search===""?(d(),c("div",ut,[ft,s.sideDishesList.filter(n=>n.isChecked===!0).length<3?(d(),c("small",_t,"*請至少選擇三樣")):p("",!0),vt,v(m,{"dishes-list":s.sideDishesList,mode:s.mode,"modal-name":"sideDishesModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):p("",!0),(s.filter==="全部"||s.filter==="主菜類")&&s.search===""?(d(),c("div",gt,[bt,s.mainDishesList.filter(n=>n.isChecked===!0).length<1?(d(),c("small",Lt,"*請至少選擇一樣")):p("",!0),yt,v(m,{"dishes-list":s.mainDishesList,mode:s.mode,"modal-name":"mainDishesModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):p("",!0),s.search!==""?(d(),c("div",wt,[Dt,xt,v(m,{"dishes-list":s.searchedList,mode:s.mode,"modal-name":"searchedDishesModal","update-selected":l.updateSelected,"update-preference-level":l.updatePreferenceLevel},null,8,["dishes-list","mode","update-selected","update-preference-level"])])):p("",!0)])],2),e("div",kt,[e("button",{type:"button",class:"btn btn-outline-primary bento-generator-btn mb-4 px-4 py-3",onClick:i[10]||(i[10]=(...n)=>l.bentoPretest&&l.bentoPretest(...n))},"生成便當")]),e("aside",{class:_(["aside",{isBottom:s.isBottom}]),onClick:i[11]||(i[11]=(...n)=>l.scroll&&l.scroll(...n))},[e("span",Ct,[v(I,{style:{width:"40px",height:"40px"}})]),s.isBottom?p("",!0):(d(),c("p",St,"Button")),s.isBottom?(d(),c("p",It,"Top")):p("",!0)],2)]),e("div",Tt,[e("div",Bt,[e("div",Pt,[e("div",Mt,[Nt,e("small",null,f(s.introIndex)+" / 7 ",1),Vt]),e("div",jt,[s.introIndex!==1?(d(),c("button",Ut,At)):p("",!0),Ft,s.introIndex!==7?(d(),c("button",Jt,Gt)):p("",!0)]),Wt])])]),v(T,{"bento-temp":s.bentoTemp,"generate-bento":l.generateBento,"member-data":t.memberData},null,8,["bento-temp","generate-bento","member-data"])],64)}const Kt=k(Ye,[["render",qt],["__scopeId","data-v-c518ae1d"]]);export{Kt as default};
