import{_ as h,s as d,j as a,m,c as o,b as f,y as p,F as _,k as r,r as n,o as t}from"./index-Blz8PX25.js";const g={data(){return{isRouterAlive:!1,isLoading:!1}},computed:{...d(r,["memberData","hasCheckLogin"])},watch:{hasCheckLogin(){this.checkStatus()}},methods:{checkStatus(){this.hasCheckLogin&&(this.memberData.email?this.isRouterAlive=!0:this.redirect(),this.isLoading=!1)},redirect(){this.isLoading=!1;const e=1e3;a.error("請先登入",{autoClose:e}),setTimeout(()=>{this.$router.replace({name:"Login"})},e)},async updateProfile({status:e,message:s}){this.isRouterAlive=!1,a[e](s),await this.getUser(),this.isRouterAlive=!0},...m(r,["getUser"])},mounted(){this.isLoading=!0,this.checkStatus()}},k={key:1,class:"flex-fill"};function v(e,s,L,R,i,c){const l=n("loadingVue"),u=n("RouterView");return t(),o(_,null,[f(l,{active:i.isLoading},null,8,["active"]),i.isRouterAlive?(t(),p(u,{key:0,onUpdateProfile:c.updateProfile},null,8,["onUpdateProfile"])):(t(),o("div",k))],64)}const x=h(g,[["render",v]]);export{x as default};
