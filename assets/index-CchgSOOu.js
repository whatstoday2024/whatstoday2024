import{_ as b,c as r,b as e,t as f,d as l,w as h,j as p,e as c,o as m,h as a}from"./index-O---iDXo.js";const w={data(){return{user:{},newProfile:{name:"",invalid:!1},password:{old:"",new:"",doubleCheck:""}}},methods:{getProfile(){this.user={name:"xxx",email:"xxxxx@gmail.com",dinnerCount:166},this.newProfile.name=this.user.name},editProfile(){if(this.newProfile.name===this.user.name){this.newProfile.invalid=!0;return}},changePassword(){}},created(){this.getProfile()}},v={class:"flex-fill d-flex align-items-center"},P={class:"container py-5"},g=e("h1",{class:"display-5 mb-4"},"個人資料總覽",-1),x={key:0,class:"row g-4"},V={class:"col-12"},y={class:"border rounded-4 p-5 text-center"},k=e("h5",{class:"fs-4"},"累積產生的便當數",-1),C={class:"mb-0",style:{"font-size":"8rem","line-height":"0.8"}},z={class:"col-lg-6"},S={class:"border rounded-4 fs-4 p-5 h-100"},q=e("h5",{class:"mb-4 fs-4"},"會員資料",-1),F={class:"row"},U=e("div",{class:"col-auto"},[e("p",null,"帳號")],-1),B={class:"col"},D={class:"mb-4"},E=e("div",{class:"col-auto"},[e("label",{for:"username",class:"col-form-label"},"姓名")],-1),N={class:"col"},M={key:0,class:"text-danger mb-0 mt-2",style:{"font-size":"0.875rem"}},j=e("div",{class:"text-end mt-4"},[e("button",{type:"submit",class:"btn btn-outline-brand-blue btn-lg rounded-pill"},"修改資料")],-1),I={class:"col-lg-6"},A={class:"border rounded-4 p-5 h-100"},G=e("h5",{class:"mb-4 fs-4"},"修改密碼",-1),H={class:"form-floating mb-4"},J=e("label",{for:"oldPassword"},"請輸入舊密碼",-1),K={class:"form-floating mb-4"},L=e("label",{for:"newPassword"},"請輸入新密碼",-1),O={class:"form-floating mb-4"},Q=e("label",{for:"newPasswordDoubleCheck"},"再次確認新密碼",-1),R=e("div",{class:"text-end"},[e("button",{type:"submit",class:"btn btn-outline-brand-blue btn-lg rounded-pill"},"修改密碼")],-1);function T(W,o,X,Y,s,u){const i=c("VField"),d=c("ErrorMessage"),_=c("VForm");return m(),r("div",v,[e("div",P,[g,s.user.email?(m(),r("div",x,[e("div",V,[e("div",y,[k,e("p",C,f(s.user.dinnerCount),1)])]),e("div",z,[e("div",S,[q,e("div",F,[U,e("div",B,[e("p",D,f(s.user.email),1)])]),l(_,{class:"row g-3",onSubmit:u.editProfile},{default:h(({errors:t})=>[E,e("div",N,[l(i,{type:"text",id:"username",style:{"font-size":"1.5rem"},name:"姓名",class:a(["form-control",{"is-invalid":t.姓名||s.newProfile.invalid}]),rules:"required",modelValue:s.newProfile.name,"onUpdate:modelValue":o[0]||(o[0]=n=>s.newProfile.name=n),onInput:o[1]||(o[1]=n=>s.newProfile.invalid=!1)},null,8,["class","modelValue"]),l(d,{name:"姓名",class:"invalid-feedback",style:{"font-size":"0.875rem"}}),s.newProfile.invalid?(m(),r("p",M,"新名稱與舊名稱相同")):p("",!0)]),j]),_:1},8,["onSubmit"])])]),e("div",I,[e("div",A,[G,l(_,{onSubmit:u.changePassword},{default:h(({errors:t})=>[e("div",H,[l(i,{type:"password",id:"oldPassword",placeholder:"請輸入舊密碼",name:"舊密碼",class:a(["form-control",{"is-invalid":t.舊密碼}]),rules:"required",modelValue:s.password.old,"onUpdate:modelValue":o[2]||(o[2]=n=>s.password.old=n)},null,8,["class","modelValue"]),l(d,{name:"舊密碼",class:"invalid-feedback"}),J]),e("div",K,[l(i,{type:"password",id:"newPassword",placeholder:"請輸入新密碼",name:"新密碼",class:a(["form-control",{"is-invalid":t.新密碼}]),rules:"required|is_not:@舊密碼",modelValue:s.password.new,"onUpdate:modelValue":o[3]||(o[3]=n=>s.password.new=n)},null,8,["class","modelValue"]),l(d,{name:"新密碼",class:"invalid-feedback"}),L]),e("div",O,[l(i,{type:"password",id:"newPasswordDoubleCheck",placeholder:"再次確認新密碼",name:"確認新密碼",class:a(["form-control",{"is-invalid":t.確認新密碼}]),rules:"required|confirmed:@新密碼",modelValue:s.password.doubleCheck,"onUpdate:modelValue":o[4]||(o[4]=n=>s.password.doubleCheck=n)},null,8,["class","modelValue"]),l(d,{name:"確認新密碼",class:"invalid-feedback"}),Q]),R]),_:1},8,["onSubmit"])])])])):p("",!0)])])}const $=b(w,[["render",T]]);export{$ as default};
